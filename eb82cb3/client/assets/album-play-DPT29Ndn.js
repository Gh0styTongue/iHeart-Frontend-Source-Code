import{j as f}from"./create-logger-DNtzi1_a.js";import{i as S,e as T,A as E,a as I,d as h,P as U,f as L,h as R}from"./play-DDtWrYBn.js";import{e as C,a as M,P as $}from"./play-BQDnmloD.js";import{d as w}from"./create-analytics-DYSkN0SF.js";import{l as k}from"./http-error-DJhpcL-Y.js";import{p as v,S as m}from"./use-item-selected-BbUZv3TT.js";import{r as A,a as j}from"./chunk-QMGIS6GS-CFDD2jAw.js";import{$ as _}from"./index-B6aK0ntB.js";import{u as N}from"./amp-client-C2ZZL0mA.js";import{u as G,U as Y}from"./use-page-data-asset-CQIt3rIH.js";import{U as O,w as D,x as B}from"./request-info-Bv3SWXDS.js";import{g as H}from"./text-CLqYBJ6O.js";function q(a){const i=S(N()),e=v.usePlayer(),o=T(),{onInAppMessageOpen:l}=h(),s=G(),n={id:s?.sub?.id?.toString()||s?.id?.toString(),name:s?.sub?.name||s?.name},t=a.context.pageName,r={trigger:B.PREMIUM,origin:D.LISTEN,pageName:t,assetId:n.id??"",assetName:n.name??"",stationId:`artist|${a.artistId}`,stationName:a.artistName??"",stationSubId:a.seed?`song|${a.seed}`:`Album|${a.id}`,stationSubName:a.trackTitle??a.name??""},y=C({context:r}),c=A.useCallback(async()=>{await e.load({...a,id:a.artistId,type:m.Artist,targeting:E.get("targetingParams")}),await e.play()},[e,a]),u=I({...a,type:m.Album});async function g(d){if(i){u.doPlay(d);return}l({...n?.id&&n?.name?{globalStation:{id:n.id,name:n.name}}:{},messageType:O.PRIMIUM,pageName:a.context.pageName??"",...a.context?.sectionName||a.context?.eventLocation?{location:a.context.sectionName??a.context.eventLocation}:{},userTriggered:!0}),M(Y({size:{xsmall:"small",medium:"large"},path:y?.toString()})),o()?await c():async function P(){globalThis.window.setTimeout(()=>{o()?c():P()},100)}()}return{...u,doPlay:g}}function ea({albumSlug:a,artistSlug:i,goToNowPlaying:e,css:o,color:l="white",size:s=40,seed:n,...t}){e=Array.isArray(e)?e:k(e)?[e]:[];const r=S(N()),y=q({...t,seed:n}),c=r?m.Album:m.PlaylistRadio,{playing:u,stoppable:g}=I({...t,type:c}),d=j(),P=A.useMemo(()=>({id:t.id,context:t.context,name:t.name}),[t.id,t.context,t.name]),b=A.useCallback(()=>{a&&i?d(_("/artist/:artistSlug/albums/:albumSlug/now-playing",{artistSlug:i,albumSlug:a})):console.warn("Cannot go to Now Playing tab without a artistSlug/albumSlug")},[a,i,d]),x=w({onPlay:()=>{b()},onPause:()=>{b()},onStop:()=>{b()}},e);return r?f.jsx(U,{...t,...x,color:l,css:o,seed:n,size:s,type:m.Album}):f.jsx(L,{color:l,css:o,...H({onPress:()=>{R({station:P,playing:u,stoppable:g}),y.doPlay(x)}},{onPress:t.onPress}),children:f.jsx($,{size:s})})}export{ea as A,q as u};
//# sourceMappingURL=album-play-DPT29Ndn.js.map

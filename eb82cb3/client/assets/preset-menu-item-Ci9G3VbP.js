import{j as t}from"./create-logger-DNtzi1_a.js";import{I as G,v as _}from"./text-CLqYBJ6O.js";import{M as T}from"./ellipsis-horizontal-DiyQgcWZ.js";import{u as N,a as h,h as j,g as k,P,d as L,b as w}from"./track-presets-D7gwFWnr.js";import{u as z,U as D}from"./amp-client-C2ZZL0mA.js";import{d as F,r as Y}from"./chunk-QMGIS6GS-CFDD2jAw.js";import{d as V}from"./play-DDtWrYBn.js";import{u as H,b as W,c as B,d as Z}from"./play-BQDnmloD.js";import{p as K}from"./use-item-selected-BbUZv3TT.js";import{v as p,w as X,x as q,y as J,z as v,B as Q}from"./request-info-Bv3SWXDS.js";function $(r){return t.jsx(G,{"aria-label":"Minus Filled",...r,children:t.jsx("svg",{viewBox:"0 0 24 24",children:t.jsx("path",{clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM6 11C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13H18C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11H6Z",fillRule:"evenodd"})})})}function ce({icon:r,isPremiumPlaylist:x=!1,station:f,stationType:g,location:i=p.OVERFLOW_MENU}){const u=z(),{onInAppMessageOpen:A,onInAppMessageExit:d}=V(),{trackAddPreset:C,trackRemovePreset:R}=N(),s=H(),{presetListData:m}=h(),{id:n,title:o,imageUrl:I}=f,M=K.useState(),{station:l}=M,e=F().reverse()?.map(c=>c.data).find(j)??null,a=m.items.find(c=>c.id===n.toString()),U=k({id:n,type:g,imageUrl:I}),S=a?"Remove from Presets":"Add to Presets",E={trigger:q.PRESETS,origin:X.LISTEN,pageName:s,location:i,...e?.analytics?.preset_removed?{assetId:e?.analytics.preset_removed.view.station.id,assetName:e?.analytics.preset_removed.view.station.name}:{}},O=W({context:E}),b=B({context:E}),y=Y.useCallback(()=>{d({messageType:v.PRESETS,exitType:J.CLICK_SUCCESS,pageName:s,location:i,...e?.analytics?.preset_removed?{globalStation:e.analytics.preset_removed.view.station}:{}})},[e?.analytics,s,d,i]);return x&&u?.subscription?.type!==D.Premium?null:u?.isAnonymous?t.jsxs(T,{"data-test":"anonymous-add-preset-menu-item",onAction:()=>{Z({kind:"info",text:Q,location:i,...e?.analytics?.preset_removed?{globalStation:e.analytics.preset_removed.view.station}:{},actions:[{kind:"tertiary",color:"gray",textColor:_.color.gray600,content:"Log in",size:{xsmall:"small",medium:"large"},href:O.toString(),onPress:y},{kind:"tertiary",color:"gray",textColor:_.color.gray600,content:"Sign up",size:{xsmall:"small",medium:"large"},href:b.toString(),onPress:y}],onInAppMessageOpen:A,onInAppMessageExit:d,messageType:v.PRESETS,userTriggered:!0,pageName:s})},children:[r?t.jsx(P,{size:18}):null,S]}):t.jsxs(T,{"data-test":"add-preset-menu-item",onAction:()=>{a?L({title:o,position:a.index,presetListData:m,id:a.id,analyticsCallback:()=>R({pageName:s,location:p.OVERFLOW_MENU,station:{id:String(a.id),name:o},item:{id:String(l.id),name:l?.name??"Station"},...e?.analytics?.preset_removed?{globalStation:e.analytics.preset_removed.view.station}:{}})}):w({id:n.toString(),title:o,type:g,presetListData:m,imageUrl:U,analyticsCallback:()=>C({pageName:s,location:p.OVERFLOW_MENU,station:{id:String(n),name:o},item:{id:String(l.id),name:l?.name??"Station"},...e?.analytics?.preset_added?{globalStation:e.analytics.preset_added.view.station}:{}})})},children:[r?a?t.jsx($,{size:18}):t.jsx(P,{size:18}):null,S]})}export{$ as M,ce as P};
//# sourceMappingURL=preset-menu-item-Ci9G3VbP.js.map

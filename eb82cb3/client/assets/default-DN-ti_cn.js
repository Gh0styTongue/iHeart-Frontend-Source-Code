import{y as b,j as k,V as d}from"./use-item-selected-BbUZv3TT.js";import{j as c,a as f}from"./create-logger-DNtzi1_a.js";import{E as w,B as p}from"./text-CLqYBJ6O.js";import{r as s}from"./chunk-QMGIS6GS-CFDD2jAw.js";import{b as m}from"./http-error-DJhpcL-Y.js";import{k as x}from"./amp-client-C2ZZL0mA.js";import{L as h}from"./link-867Ce9R_.js";import{u as g}from"./use-apps-flyer-CIIIQYDX.js";function D({containerId:n}){return b(()=>{if(document.activeElement instanceof HTMLIFrameElement){const e=document.querySelector("div[data-google-query-id]");e&&e.id===n&&e.click()}},1e3)}var v="var(--_1g3v48c0)",C="var(--_1g3v48c1)",y="_1g3v48c2";function A({width:n,height:e,children:t,...o},r){return c.jsx("div",{className:y,ref:r,style:w({[C]:`${e}px`,[v]:`${n}px`}),...o,children:t})}const _=s.forwardRef(A);function j(n){return m(n)||m(n.resourceType)?!1:[d.Static,d.IFrame,d.HTML].includes(n.resourceType)}function E(n){const e=f.c(9),{companion:t,fullscreen:o}=n,r=o===void 0?!1:o;if(m(t))return null;let i;e[0]!==t?(i=j(t),e[0]=t,e[1]=i):i=e[1];const a=i;a||(console.group(),console.groupCollapsed(),console.info("Not a Static/IFrame/HTML Companion Ad"),console.dir(t,{depth:null}),console.groupEnd());let u;return e[2]!==t.clickThroughUrl||e[3]!==t.content||e[4]!==t.height||e[5]!==t.width||e[6]!==r||e[7]!==a?(u=m(t.content)||!a?null:c.jsx(_,{"data-fullscreen":r,"data-test":"companion-ad-creative",height:t.height,onClick:()=>{if(t.clickThroughUrl){const l=document.createElement("img");l.className=k,l.width=0,l.height=0,l.src=t.clickThroughUrl,document.body.append(l)}},width:t.width,children:c.jsx(I,{allowRerender:!0,html:t.content})}),e[2]=t.clickThroughUrl,e[3]=t.content,e[4]=t.height,e[5]=t.width,e[6]=r,e[7]=a,e[8]=u):u=e[8],u}const M=s.memo(E,(n,e)=>x(n,e));function I({html:n,allowRerender:e=!1}){const t=s.useRef(null),o=s.useRef(!0);return s.useEffect(()=>{if(!n||!t.current)throw new Error("html prop cannot be null");if(!o.current)return;o.current=e;const r=t.current.contentDocument;r&&(r.open(),r.writeln(n))},[n,t,e]),s.createElement("iframe",{ref:t,src:"about:blank",style:{border:"none",width:"100%",height:"100%"}})}function $(){const n=f.c(5),e=g();let t;n[0]!==e?(t=()=>e?.generateLink(),n[0]=e,n[1]=t):t=n[1];let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=c.jsx(p,{backgroundImage:"url(https://www.iheart.com/public/listen/ad-fallback-nav.png)",backgroundSize:"cover",height:"250px",width:"300px"}),n[2]=o):o=n[2];let r;return n[3]!==t?(r=c.jsx(h,{onPress:t,target:"_blank",children:o}),n[3]=t,n[4]=r):r=n[4],r}function z(n){const e=f.c(7),{isMedium:t}=n,o=g();let r;e[0]!==o?(r=()=>o?.generateLink(),e[0]=o,e[1]=r):r=e[1];let i;e[2]!==t?(i=t?c.jsx(p,{backgroundImage:"url(https://www.iheart.com/public/listen/ad-fallback-tablet.png)",backgroundSize:"cover",height:"90px",width:"728px"}):c.jsx(p,{backgroundImage:"url(https://www.iheart.com/public/listen/ad-fallback-mobile.png)",backgroundSize:"cover",height:"50px",width:"320px"}),e[2]=t,e[3]=i):i=e[3];let a;return e[4]!==r||e[5]!==i?(a=c.jsx(h,{onPress:r,target:"_blank",children:i}),e[4]=r,e[5]=i,e[6]=a):a=e[6],a}export{M as C,z as D,$ as a,D as h};
//# sourceMappingURL=default-DN-ti_cn.js.map

import{j as f}from"./create-logger-DNtzi1_a.js";import{i as x,e as I,A as N,a as T,d as E,P as h,f as U,h as L}from"./play-DDtWrYBn.js";import{e as k,a as C,P as M}from"./play-BQDnmloD.js";import{d as R}from"./create-analytics-DYSkN0SF.js";import{l as $}from"./http-error-DJhpcL-Y.js";import{p as v,S as d}from"./use-item-selected-BbUZv3TT.js";import{r as P,a as w}from"./chunk-QMGIS6GS-CFDD2jAw.js";import{$ as j}from"./index-B6aK0ntB.js";import{u as b}from"./amp-client-C2ZZL0mA.js";import{u as _,U as G}from"./use-page-data-asset-CQIt3rIH.js";import{U as Y,w as O,x as D}from"./request-info-Bv3SWXDS.js";import{g as S}from"./text-CLqYBJ6O.js";function B(t){const c=x(b()),s=v.usePlayer(),e=I(),{onInAppMessageOpen:r}=E(),a=_(),n={id:a?.sub?.id?.toString()||a?.id?.toString(),name:a?.sub?.name||a?.name},u=t.context.pageName,g={trigger:D.PREMIUM,origin:O.LISTEN,pageName:u,assetId:n.id,assetName:n.name,stationId:`Artist|${t.artistId}`,stationName:t.artistName,stationSubId:`song|${t.seed??t.id}`,stationSubName:t.trackTitle??t.name??""},y=k({context:g}),o=P.useCallback(async()=>{await s.load({...t,type:d.Artist,targeting:N.get("targetingParams")}),await s.play()},[s,t]),l=T({...t,type:d.TopSongs});async function m(i){if(c){l.doPlay(i);return}r({...n?.id&&n?.name?{globalStation:{id:n.id,name:n.name}}:{},messageType:Y.PRIMIUM,pageName:t.context.pageName??"",...t.context?.sectionName||t.context?.eventLocation?{location:t.context.sectionName??t.context.eventLocation}:{},userTriggered:!0}),C(G({size:{xsmall:"small",medium:"large"},path:y?.toString()})),e()?(o(),i?.onPlay?.()):function A(){globalThis.window.setTimeout(()=>{e()?(o(),i?.onPlay?.()):A()},100)}()}return{...l,doPlay:m}}function tt({color:t="white",size:c=40,artistSlug:s,goToNowPlaying:e,seed:r,...a}){e=Array.isArray(e)?e:$(e)?[e]:[];const n=x(b()),u=B({...a,artistId:a.id,artistName:a.name??"",trackTitle:a.trackTitle,seed:r}),{playing:g,stoppable:y}=T({...a,type:d.TopSongs}),o=w(),l=P.useMemo(()=>({id:a.id,context:a.context,name:a.name}),[a.id,a.context,a.name]),m=P.useCallback(()=>{s?o(j("/artist/:artistSlug/now-playing",{artistSlug:s})):console.warn("Cannot go to Now Playing tab without a artistSlug")},[s,o]),i=R({onPlay:()=>{m()},onPause:()=>{m()},onStop:()=>{m()}},e);return n?f.jsx(h,{color:t,seed:r,size:c,type:d.TopSongs,...S(i,a)}):f.jsx(U,{color:t,...S({onPress:()=>{L({station:l,playing:g,stoppable:y}),u.doPlay(i)}},{onPress:a.onPress}),children:f.jsx(M,{size:c})})}export{tt as T,B as u};
//# sourceMappingURL=top-songs-play-eWwwig72.js.map

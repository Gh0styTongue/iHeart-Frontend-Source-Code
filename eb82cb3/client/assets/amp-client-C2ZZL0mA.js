import{b as go,a as bo,j as jt}from"./create-logger-DNtzi1_a.js";import{u as Ht,e as _,o as T,s as n,f as g,a as K,j as M,v as Po,n as f,Z as ue,b as Bt,l as ne,g as A,w as Yt,i as D,x as Io,z as r,C as N,H as ct,r as he,d as Kt,A as We,y as Fe,c as So}from"./http-error-DJhpcL-Y.js";import{r as R,k as zt,J as xe,K as fe,L as Eo}from"./chunk-QMGIS6GS-CFDD2jAw.js";function Vt(e){return typeof e=="number"&&!Number.isNaN(e)}function Wt(e){return typeof e=="string"}function Oo(e){return typeof e=="boolean"}function wo(...e){return Ht(ke,e)}function ke(e,t){if(e===t||Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(Array.isArray(e))return To(e,t);if(e instanceof Map)return Co(e,t);if(e instanceof Set)return Ao(e,t);if(e instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp)return e.toString()===t.toString();if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let[o,s]of Object.entries(e))if(!(o in t)||!ke(s,t[o]))return!1;return!0}function To(e,t){if(e.length!==t.length)return!1;for(let[o,s]of e.entries())if(!ke(s,t[o]))return!1;return!0}function Co(e,t){if(e.size!==t.size)return!1;for(let[o,s]of e.entries())if(!t.has(o)||!ke(s,t.get(o)))return!1;return!0}function Ao(e,t){if(e.size!==t.size)return!1;let o=[...t];for(let s of e){let i=!1;for(let[p,c]of o.entries())if(ke(s,c)){i=!0,o.splice(p,1);break}if(!i)return!1}return!0}function wt(...e){return Ht(vo,e)}var vo=e=>`${e[0]?.toUpperCase()??""}${e.slice(1)}`;const Tt=_(["AU","CA","MX","NZ","US","WW"]),Pe=_(["FREE","PREMIUM","PLUS","NONE"]),Hs=Pe.enum,Bs={Free:Pe.enum.FREE,None:Pe.enum.NONE,Plus:Pe.enum.PLUS,Premium:Pe.enum.PREMIUM},Ro=_(["all_access_annual","all_access_family","all_access","plus","free"]);Ro.enum;const ko=_(["GOOGLE","APPLE","NAPSTER","AMAZON","ROKU","NO_RECEIPT","RECURLY","UNKNOWN"]);ko.enum;const Jt=T({abTestGroups:Po(n(),n()).optional().nullable(),accountType:n().optional(),birthYear:M.number().optional().nullable(),birthMonth:M.number().optional().nullable().transform(e=>e===null?void 0:e),birthDay:M.number().optional().nullable().transform(e=>e===null?void 0:e),phoneNumber:n().optional().nullable().transform(e=>e===null?void 0:e),name:n().optional().nullable(),marketName:n().optional().nullable().transform(e=>e===null?void 0:e),profileId:M.number(),sessionId:n(),oauths:K(T({oauthUuid:n().optional(),type:n().optional()})).optional(),deviceId:n().optional(),email:n().email().optional(),emailHashes:n().array().length(3).optional(),country:Tt.default(Tt.enum.WW),entitlements:K(n()).optional().default([]),gender:n().optional().nullable().transform(e=>e===null?void 0:e),privacy:T({hasOptedOut:g(),usPrivacy:n().optional()}).optional(),subscription:T({isFamilyPlanParent:g().optional(),productId:n().optional(),hasNapsterBillingHistory:g(),promosRedeemed:K(n()),source:n().optional(),type:Pe,isTrial:g(),isOnHold:g().optional(),terminationDate:f().optional(),lastTrialExpirationDate:f().optional(),isTrialEligible:g(),isAutoRenewing:g(),expiry:f().optional(),isEligibleForAnotherTrial:g(),lastModified:f().optional()}).optional(),isAnonymous:g().default(!0),zipCode:n().optional().nullable().transform(e=>e===null?void 0:e)}).superRefine((e,t)=>{const o=e.oauths?.some(s=>s.type==="ANONYMOUS");o&&!e.isAnonymous&&t.addIssue({code:ue.custom,message:'"ANONYMOUS" oauth found but user.anonymous is false'}),Bt(e.accountType)&&ne(e.profileId)&&ne(e.sessionId)&&t.addIssue({code:ue.custom,message:"accountType is nullish, but credentials are present"}),o&&e.accountType!=="ANONYMOUS"&&t.addIssue({code:ue.custom,message:'"ANONYMOUS" oauth found but user.accountType is not "ANONYMOUS"'})});function Uo(){return()=>{}}function No(){return R.useSyncExternalStore(Uo,()=>!0,()=>!1)}var Je,Ct;function Lo(){if(Ct)return Je;Ct=1;var e=1e3,t=e*60,o=t*60,s=o*24,i=s*7,p=s*365.25;Je=function(l,y){y=y||{};var d=typeof l;if(d==="string"&&l.length>0)return c(l);if(d==="number"&&isFinite(l))return y.long?O(l):u(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function c(l){if(l=String(l),!(l.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(y){var d=parseFloat(y[1]),P=(y[2]||"ms").toLowerCase();switch(P){case"years":case"year":case"yrs":case"yr":case"y":return d*p;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*s;case"hours":case"hour":case"hrs":case"hr":case"h":return d*o;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function u(l){var y=Math.abs(l);return y>=s?Math.round(l/s)+"d":y>=o?Math.round(l/o)+"h":y>=t?Math.round(l/t)+"m":y>=e?Math.round(l/e)+"s":l+"ms"}function O(l){var y=Math.abs(l);return y>=s?b(l,y,s,"day"):y>=o?b(l,y,o,"hour"):y>=t?b(l,y,t,"minute"):y>=e?b(l,y,e,"second"):l+" ms"}function b(l,y,d,P){var F=y>=d*1.5;return Math.round(l/d)+" "+P+(F?"s":"")}return Je}var Mo=Lo();const bt=zt(Mo);function Re(e){return e instanceof Error&&e.name==="ZodError"&&"issues"in e&&Array.isArray(e.issues)}var ut=class extends Error{name;details;constructor(e,t){super(e,t),this.name="ZodValidationError",this.details=Fo(t)}toString(){return this.message}};function Fo(e){if(e){const t=e.cause;if(Re(t))return t.issues}return[]}function Zt(e){return e.length!==0}var xo=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function _o(e){return e.length===1?e[0].toString():e.reduce((t,o)=>{if(typeof o=="number")return t+"["+o.toString()+"]";if(o.includes('"'))return t+'["'+Go(o)+'"]';if(!xo.test(o))return t+'["'+o+'"]';const s=t.length===0?"":".";return t+s+o},"")}function Go(e){return e.replace(/"/g,'\\"')}var Do="; ",$o=99,Xt="Validation error",qo=": ",jo=", or ";function Ho(e={}){const{issueSeparator:t=Do,unionSeparator:o=jo,prefixSeparator:s=qo,prefix:i=Xt,includePath:p=!0,maxIssuesInMessage:c=$o}=e;return u=>{const O=u.slice(0,c).map(b=>qe({issue:b,issueSeparator:t,unionSeparator:o,includePath:p})).join(t);return Bo(O,i,s)}}function qe(e){const{issue:t,issueSeparator:o,unionSeparator:s,includePath:i}=e;if(t.code===ue.invalid_union)return t.unionErrors.reduce((p,c)=>{const u=c.issues.map(O=>qe({issue:O,issueSeparator:o,unionSeparator:s,includePath:i})).join(o);return p.includes(u)||p.push(u),p},[]).join(s);if(t.code===ue.invalid_arguments)return[t.message,...t.argumentsError.issues.map(p=>qe({issue:p,issueSeparator:o,unionSeparator:s,includePath:i}))].join(o);if(t.code===ue.invalid_return_type)return[t.message,...t.returnTypeError.issues.map(p=>qe({issue:p,issueSeparator:o,unionSeparator:s,includePath:i}))].join(o);if(i&&Zt(t.path)){if(t.path.length===1){const p=t.path[0];if(typeof p=="number")return`${t.message} at index ${p}`}return`${t.message} at "${_o(t.path)}"`}return t.message}function Bo(e,t,o){return t!==null?e.length>0?[t,e].join(o):t:e.length>0?e:Xt}function we(e,t={}){if(!Re(e))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${zo.name}" method instead?`);return Qt(e,t)}function Qt(e,t={}){const o=e.errors;let s;return Zt(o)?s=Yo(t)(o):s=e.message,new ut(s,{cause:e})}function Yo(e){return"messageBuilder"in e?e.messageBuilder:Ho(e)}var Ko=(e={})=>t=>Re(t)?Qt(t,e):t instanceof Error?new ut(t.message,{cause:t}):new ut("Unknown error");function zo(e,t={}){return Ko(t)(e)}var se=(e=>(e.IHR="IHR",e.FACEBOOK="FACEBOOK",e.IHR_FACEBOOK="IHR_FACEBOOK",e.GOOGLE_PLUS="GOOGLE_PLUS",e.AMAZON="AMAZON",e.TWITTER="TWITTER",e.ANONYMOUS="ANONYMOUS",e.MICROSOFT="MICROSOFT",e.GOOGLE="GOOGLE",e.GIGYA="GIGYA",e.APPLE="APPLE",e))(se||{}),Vo=(e=>(e.TRACK="TRACK",e.COLLECTION="COLLECTION",e.ARTIST="ARTIST",e.TALKSHOW="TALKSHOW",e.TALKTHEME="TALKTHEME",e.LIVE="LIVE",e.N4U="N4U",e.RADIO="RADIO",e.TALK="TALK",e.CLIP="CLIP",e.FAVORITES="FAVORITES",e.PODCAST="PODCAST",e))(Vo||{});class Pt extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Pt.prototype)}}function Wo(e,t){if(!e)throw new Pt(typeof t=="function"?t():t)}var Ze,At;function Jo(){if(At)return Ze;At=1;var e="Expected a function",t=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,O=typeof xe=="object"&&xe&&xe.Object===Object&&xe,b=typeof self=="object"&&self&&self.Object===Object&&self,l=O||b||Function("return this")(),y=Object.prototype,d=y.toString,P=Math.max,F=Math.min,$=function(){return l.Date.now()};function Ke(C,q,W){var J,ie,oe,Q,j,h,k=0,ee=!1,pe=!1,ye=!0;if(typeof C!="function")throw new TypeError(e);q=Ee(q)||0,Se(W)&&(ee=!!W.leading,pe="maxWait"in W,oe=pe?P(Ee(W.maxWait)||0,q):oe,ye="trailing"in W?!!W.trailing:ye);function ze(x){var re=J,Oe=ie;return J=ie=void 0,k=x,Q=C.apply(Oe,re),Q}function ho(x){return k=x,j=setTimeout(Me,q),ee?ze(x):Q}function mo(x){var re=x-h,Oe=x-k,Ot=q-re;return pe?F(Ot,oe-Oe):Ot}function St(x){var re=x-h,Oe=x-k;return h===void 0||re>=q||re<0||pe&&Oe>=oe}function Me(){var x=$();if(St(x))return Et(x);j=setTimeout(Me,mo(x))}function Et(x){return j=void 0,ye&&J?ze(x):(J=ie=void 0,Q)}function fo(){j!==void 0&&clearTimeout(j),k=0,J=h=ie=j=void 0}function yo(){return j===void 0?Q:Et($())}function Ve(){var x=$(),re=St(x);if(J=arguments,ie=this,h=x,re){if(j===void 0)return ho(h);if(pe)return j=setTimeout(Me,q),ze(h)}return j===void 0&&(j=setTimeout(Me,q)),Q}return Ve.cancel=fo,Ve.flush=yo,Ve}function Se(C){var q=typeof C;return!!C&&(q=="object"||q=="function")}function Ne(C){return!!C&&typeof C=="object"}function Le(C){return typeof C=="symbol"||Ne(C)&&d.call(C)==o}function Ee(C){if(typeof C=="number")return C;if(Le(C))return t;if(Se(C)){var q=typeof C.valueOf=="function"?C.valueOf():C;C=Se(q)?q+"":q}if(typeof C!="string")return C===0?C:+C;C=C.replace(s,"");var W=p.test(C);return W||c.test(C)?u(C.slice(2),W?2:8):i.test(C)?t:+C}return Ze=Ke,Ze}var Zo=Jo();const vt=zt(Zo);var It=typeof window<"u"?R.useLayoutEffect:R.useEffect;function je(e,t,o,s){const i=R.useRef(t);It(()=>{i.current=t},[t]),R.useEffect(()=>{const p=window;if(!(p&&p.addEventListener))return;const c=u=>{i.current(u)};return p.addEventListener(e,c,s),()=>{p.removeEventListener(e,c,s)}},[e,o,s])}function He(e){const t=R.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return It(()=>{t.current=e},[e]),R.useCallback((...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[t])}var Xe=typeof window>"u";function Ys(e,t,o={}){const{initializeWithValue:s=!0}=o,i=R.useCallback(d=>o.serializer?o.serializer(d):JSON.stringify(d),[o]),p=R.useCallback(d=>{if(o.deserializer)return o.deserializer(d);if(d==="undefined")return;const P=t instanceof Function?t():t;let F;try{F=JSON.parse(d)}catch($){return console.error("Error parsing JSON:",$),P}return F},[o,t]),c=R.useCallback(()=>{const d=t instanceof Function?t():t;if(Xe)return d;try{const P=window.localStorage.getItem(e);return P?p(P):d}catch(P){return console.warn(`Error reading localStorage key “${e}”:`,P),d}},[t,e,p]),[u,O]=R.useState(()=>s?c():t instanceof Function?t():t),b=He(d=>{Xe&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const P=d instanceof Function?d(c()):d;window.localStorage.setItem(e,i(P)),O(P),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(P){console.warn(`Error setting localStorage key “${e}”:`,P)}}),l=He(()=>{Xe&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const d=t instanceof Function?t():t;window.localStorage.removeItem(e),O(d),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});R.useEffect(()=>{O(c())},[e]);const y=R.useCallback(d=>{d.key&&d.key!==e||O(c())},[e,c]);return je("storage",y),je("local-storage",y),[u,b,l]}var Xo=typeof window>"u";function Ks(e,{defaultValue:t=!1,initializeWithValue:o=!0}={}){const s=u=>Xo?t:window.matchMedia(u).matches,[i,p]=R.useState(()=>o?s(e):t);function c(){p(s(e))}return It(()=>{const u=window.matchMedia(e);return c(),u.addListener?u.addListener(c):u.addEventListener("change",c),()=>{u.removeListener?u.removeListener(c):u.removeEventListener("change",c)}},[e]),i}function Qo(e){const t=R.useRef(e);t.current=e,R.useEffect(()=>()=>{t.current()},[])}function zs(e,t=500,o){const s=R.useRef();Qo(()=>{s.current&&s.current.cancel()});const i=R.useMemo(()=>{const p=vt(e,t,o),c=(...u)=>p(...u);return c.cancel=()=>{p.cancel()},c.isPending=()=>!!s.current,c.flush=()=>p.flush(),c},[e,t,o]);return R.useEffect(()=>{s.current=vt(e,t,o)},[e,t,o]),i}var Qe=typeof window>"u";function er(e,t,o={}){const{initializeWithValue:s=!0}=o,i=R.useCallback(d=>o.serializer?o.serializer(d):JSON.stringify(d),[o]),p=R.useCallback(d=>{if(o.deserializer)return o.deserializer(d);if(d==="undefined")return;const P=t instanceof Function?t():t;let F;try{F=JSON.parse(d)}catch($){return console.error("Error parsing JSON:",$),P}return F},[o,t]),c=R.useCallback(()=>{const d=t instanceof Function?t():t;if(Qe)return d;try{const P=window.sessionStorage.getItem(e);return P?p(P):d}catch(P){return console.warn(`Error reading sessionStorage key “${e}”:`,P),d}},[t,e,p]),[u,O]=R.useState(()=>s?c():t instanceof Function?t():t),b=He(d=>{Qe&&console.warn(`Tried setting sessionStorage key “${e}” even though environment is not a client`);try{const P=d instanceof Function?d(c()):d;window.sessionStorage.setItem(e,i(P)),O(P),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}catch(P){console.warn(`Error setting sessionStorage key “${e}”:`,P)}}),l=He(()=>{Qe&&console.warn(`Tried removing sessionStorage key “${e}” even though environment is not a client`);const d=t instanceof Function?t():t;window.sessionStorage.removeItem(e),O(d),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))});R.useEffect(()=>{O(c())},[e]);const y=R.useCallback(d=>{d.key&&d.key!==e||O(c())},[e,c]);return je("storage",y),je("session-storage",y),[u,b,l]}const eo=typeof window>"u"||"Deno"in globalThis,to=e=>typeof e?.safeParse=="function",et=e=>typeof e?.passthrough=="function",tr=(e,t)=>et(e)?et(t)?e.merge(t):e:et(t)?t:Object.assign({},e,t),or=(e,t,{passThroughExtraKeys:o=!1}={})=>{if(to(t)){const s=t.safeParse(e);return s.success?{success:!0,data:o&&typeof e=="object"?{...e,...s.data}:s.data}:{success:!1,error:s.error}}return{success:!0,data:e}};T({name:A("ZodError"),issues:K(T({path:K(D([n(),f()])),message:n().optional(),code:Yt(ue)}).catchall(Io()))});const rr=Symbol("ContractNoBody"),Be=e=>"method"in e&&"path"in e,oo=(e,t)=>Object.fromEntries(Object.entries(e).map(([o,s])=>{var i,p,c;return Be(s)?[o,{...s,path:t?.pathPrefix?t.pathPrefix+s.path:s.path,headers:tr(t?.baseHeaders,s.headers),strictStatusCodes:(i=s.strictStatusCodes)!==null&&i!==void 0?i:t?.strictStatusCodes,validateResponseOnClient:(p=s.validateResponseOnClient)!==null&&p!==void 0?p:t?.validateResponseOnClient,responses:{...t?.commonResponses,...s.responses},metadata:t?.metadata?{...t?.metadata,...(c=s.metadata)!==null&&c!==void 0?c:{}}:s.metadata}]:[o,oo(s,t)]})),tt=Symbol("ContractPlainType"),v=()=>({router:(e,t)=>oo(e,t),query:e=>e,mutation:e=>e,responses:e=>e,response:()=>tt,body:()=>tt,type:()=>tt,otherResponse:({contentType:e,body:t})=>({contentType:e,body:t}),noBody:()=>rr}),sr=({path:e,params:t})=>{const o=t;return e.replace(/\/?:([^/?]+)\??/g,(s,i)=>o[i]?`${s.startsWith("/")?"/":""}${o[i]}`:"")},nr=(e,t=!1)=>{const o=t?ar(e):ir(e);return o?.length>0?"?"+o:""},ar=e=>e?Object.entries(e).filter(([,t])=>t!==void 0).map(([t,o])=>{let s;return typeof o=="string"&&!["true","false","null"].includes(o.trim())&&isNaN(Number(o))?s=o:s=JSON.stringify(o),`${encodeURIComponent(t)}=${encodeURIComponent(s)}`}).join("&"):"",ir=e=>e?Object.keys(e).flatMap(t=>ht(t,e[t])).map(([t,o])=>`${encodeURIComponent(t)}=${encodeURIComponent(o)}`).join("&"):"",ht=(e,t)=>Array.isArray(t)?t.flatMap((o,s)=>ht(`${e}[${s}]`,o)):t instanceof Date?[[`${e}`,t.toISOString()]]:t===null?[[`${e}`,""]]:t===void 0?[]:typeof t=="object"?Object.keys(t).flatMap(o=>ht(`${e}[${o}]`,t[o])):[[`${e}`,`${t}`]];class ro extends Error{constructor(t,o){const s=o.join(",");super(`Server returned unexpected response. Expected one of: ${s} got: ${t.status}`),this.response=t}}const so=async({route:e,path:t,method:o,headers:s,body:i,validateResponse:p,fetchOptions:c})=>{const u=await fetch(t,{...c,method:o,headers:s,body:i}),O=u.headers.get("content-type");if(O?.includes("application/")&&O?.includes("json")){const b={status:u.status,body:await u.json(),headers:u.headers},l=e.responses[b.status];return(p??e.validateResponseOnClient)&&to(l)?{...b,body:l.parse(b.body)}:b}return O?.includes("text/")?{status:u.status,body:await u.text(),headers:u.headers}:{status:u.status,body:await u.blob(),headers:u.headers}},pr=e=>{const t=new FormData,o=(s,i)=>{i instanceof File?t.append(s,i):t.append(s,JSON.stringify(i))};return Object.entries(e).forEach(([s,i])=>{if(Array.isArray(i))for(const p of i)o(s,p);else o(s,i)}),t},Rt=e=>Object.fromEntries(Object.entries(e).map(([t,o])=>[t.toLowerCase(),o])),dr=e=>{const{path:t,clientArgs:o,route:s,body:i,params:p,query:c,extraInputArgs:u,headers:O,fetchOptions:b}=e,l=o.api||so,y=o.baseHeaders&&Object.fromEntries(Object.entries(o.baseHeaders).map(([F,$])=>typeof $=="function"?[F,$(e)]:[F,$])),d={...y&&Rt(y),...Rt(O)};Object.keys(d).forEach(F=>{d[F]===void 0&&delete d[F]});let P={route:s,path:t,method:s.method,headers:d,body:void 0,rawBody:i,rawQuery:c,rawParams:p,contentType:void 0,validateResponse:o.validateResponse,fetchOptions:{...o.credentials&&{credentials:o.credentials},...b},...b?.signal&&{signal:b.signal},...b?.cache&&{cache:b.cache},...b&&"next"in b&&!!b?.next&&{next:b.next}};return s.method!=="GET"&&("contentType"in s&&s.contentType==="multipart/form-data"?P={...P,contentType:"multipart/form-data",body:i instanceof FormData?i:pr(i)}:"contentType"in s&&s.contentType==="application/x-www-form-urlencoded"?P={...P,contentType:"application/x-www-form-urlencoded",headers:{"content-type":"application/x-www-form-urlencoded",...P.headers},body:typeof i=="string"?i:new URLSearchParams(i)}:i!=null&&(P={...P,contentType:"application/json",headers:{"content-type":"application/json",...P.headers},body:JSON.stringify(i)})),l({...P,...u})},lr=(e,t,o)=>{const{query:s,params:i,body:p,headers:c,extraHeaders:u,overrideClientOptions:O,fetchOptions:b,cache:l,next:y,...d}=o||{},P={...t,...O};return{path:mt(s,P.baseUrl,i,e,!!P.jsonQuery),clientArgs:P,route:e,body:p,query:s,params:i,extraInputArgs:d,fetchOptions:{...l&&{cache:l},...y&&{next:y},...b},headers:{...u,...c}}},mt=(e,t,o,s,i)=>{const p=sr({path:s.path,params:o}),c=nr(e,i);return`${t}${p}${c}`},cr=(e,t)=>{const o=Object.keys(e.responses);return async s=>{const i=lr(e,t,s),p=await dr(i);if(!t.throwOnUnknownStatus||o.includes(p.status.toString()))return p;throw new ro(p,o)}},no=(e,t)=>Object.fromEntries(Object.entries(e).map(([o,s])=>Be(s)?[o,cr(s,t)]:[o,no(s,t)]));class ur extends Error{constructor(t,o){super(`[ts-rest] Response validation failed for ${t.method} ${t.path}: ${o.message}`),this.appRoute=t,this.cause=o}}const hr=e=>e!=null&&typeof e=="object"&&"status"in e&&typeof e.status=="number",mr=e=>e!=null&&typeof e=="object"&&"contentType"in e,fr=({appRoute:e,response:t})=>{if(hr(t)){const o=e.responses[t.status],s=mr(o)?o.body:o,i=or(t.body,s);if(!i.success)throw new ur(e,i.error);return{status:t.status,body:i.data}}return t},a=()=>({from:(e,t)=>T(e,t),fromSchema:e=>e,to:(e,t)=>T(e,t),through:(e,t)=>T(e,t),strict:(e,t)=>T(e,t)}),U=v(),yr=U.router({postChangeEmail:{method:r.Post,path:"/changeEmail",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postCreateUser:{method:r.Post,path:"/createUser",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postResetPassword:{method:r.Post,path:"/resetPw",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postLogin:{method:r.Post,path:"/login",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postLoginWithShortLivedToken:{method:r.Post,path:"/loginWithShortLivedToken",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postLoginOrCreateOauthUser:{method:r.Post,path:"/loginOrCreateOauthUser;",contentType:N.FormUrlEncoded,query:U.type(),body:U.type(),responses:{200:a().from({errors:K(T({description:n(),code:f(),debugInfo:n().optional().catch(void 0),httpCode:f()})).optional().catch(void 0),sessionId:n(),profileId:f(),countryCode:D([A("US"),A("CA"),A("AU"),A("NZ"),A("MX"),A("WW")]),accountType:Yt(se),oauths:K(T({oauthUuid:n(),type:n()}))}).passthrough()}},postRemoveOauthCred:{method:r.Post,path:"/removeOauthCred",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postSetEmailCred:{method:r.Post,path:"/setEmailCred",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postSetNewPw:{method:r.Post,path:"/setNewPw",contentType:N.FormUrlEncoded,body:U.type(),responses:{200:U.type()}},postUpdateOauthCred:{method:r.Post,path:"/updateOauthCred",body:U.type(),contentType:N.FormUrlEncoded,responses:{200:U.type()}},postUpdatePw:{method:r.Post,path:"/updatePw",body:U.type(),contentType:N.FormUrlEncoded,responses:{200:U.type()}},postUpgradeAnonAccount:{method:r.Post,path:"/upgradeAnonAccount",body:U.type(),contentType:N.FormUrlEncoded,responses:{200:U.type()}},getUserExists:{method:r.Get,path:"/userExists",query:U.type(),responses:{200:U.type()}}},{pathPrefix:"/account"}),me=D([n(),f()]);me.pipe(M.string());const E=me.pipe(M.number()),S=me.pipe(M.string()),Ye=D([f(),n()]).array().transform(e=>e.join(",")),ae=f().optional(),Ie=f().optional(),gr=D([n(),K(n()).transform(e=>e.join(","))]).optional(),br=_(["FREE","PREMIUM","PLUS","NONE"]),ot=v(),Pr=ot.router({getFavoritesStationById:{method:r.Get,path:"/getFavoritesStationById",query:a().from({id:E}),responses:{200:ot.type(),404:ot.type()}}},{pathPrefix:"/catalog"}),rt=v(),Ir=rt.router({postRegisterListen:{contentType:N.FormUrlEncoded,method:r.Post,path:"/:profileId/:stationId/registerListen",body:rt.type(),summary:"Update a user's profile",responses:{200:rt.type()}}},{pathPrefix:"/liveRadio"}),st=v(),Sr=st.router({getProfile:{method:r.Get,path:"/:ownerProfileId/getProfile",description:"Returns user's profile. You can have this return the users Facebook friends as well. It also has the option of returning friends most recent plays.",pathParams:a().from({ownerProfileId:E}),query:a().from({includeFavorites:g().optional(),includeFriends:g().optional(),includeFriendsPlays:g().optional(),includePreferences:g().optional(),includeSubscriptions:g().optional(),profileId:E,sessionId:n().optional(),usePeriodDelimiterInPrefKeys:g().optional()}),summary:"Get a user's profile",responses:{200:a().from({accountType:D([A(se.ANONYMOUS),A(se.IHR),A(se.APPLE),A(se.GOOGLE),A(se.FACEBOOK),A(se.IHR_FACEBOOK)]),email:n(),zipCode:M.string().optional().catch(void 0),gender:D([A("male"),A("female"),A("unspecified")]),birthYear:M.number().optional().catch(void 0),birthMonth:M.number().optional().catch(void 0),birthDay:M.number().optional().catch(void 0),phoneNumber:n().optional().catch(void 0),name:n().optional().catch(void 0),marketName:n().nullable(),birthDate:M.number().nullable()})}},postUpdateProfile:{contentType:N.FormUrlEncoded,method:r.Post,path:"/updateProfile",body:st.type(),summary:"Update a user's profile",responses:{200:st.type()}}},{pathPrefix:"/profile"}),nt=v(),Er=nt.router({getLiveStationRecs:{method:r.Get,path:"/getLiveRadioStations",query:a().from({liveRadioStationId:E.optional()}),responses:{200:nt.type(),404:nt.type()}}},{pathPrefix:"/recs"}),de=v(),Or=de.router({postReportStreamOne:{method:r.Post,path:"/reportStreamOne",contentType:N.FormUrlEncoded,body:de.type(),responses:{200:de.type()}},postReportStreamTwo:{method:r.Post,path:"/reportStreamTwo",contentType:N.FormUrlEncoded,body:de.type(),responses:{200:de.type()}},postReportStreamDone:{method:r.Post,path:"/reportStreamDone",contentType:N.FormUrlEncoded,body:de.type(),responses:{200:de.type()}}},{pathPrefix:"/subscription"}),kt=v(),wr=kt.router({getMarketByZipcode:{method:r.Get,path:"/liveRadio/market_by_zip_code",query:a().from({zipcode:me.pipe(M.string())}),responses:{200:kt.type()}}},{pathPrefix:"/t3"}),Tr=v(),Cr=Tr.router({account:yr,catalog:Pr,liveRadio:Ir,profile:Sr,recs:Er,subscription:Or,t3:wr},{pathPrefix:"/api/v1"}),L=v(),Ar=L.router({getCities:{method:r.Get,path:"/cities",query:L.type(),headers:L.type(),responses:{200:L.type()}},getCountries:{method:r.Get,path:"/countries",headers:L.type(),responses:{200:L.type()}},getLiveStations:{method:r.Get,path:"/liveStations",headers:L.type(),query:a().from({allMarkets:g().optional(),boostMarketId:n().optional(),callLetters:n().optional(),changedSince:n().optional(),city:n().optional(),countryCode:n().optional(),countryId:f().optional(),fccFacilityId:n().optional(),fields:n().optional(),genreId:f().optional(),id:n().optional(),lat:f().optional(),limit:ae,lng:f().optional(),marketId:S.optional(),offset:Ie,primaryMarket:n().optional(),q:n().optional(),rdsPiCode:n().optional(),returnNonActive:n().optional(),sort:n().optional(),stateAbbr:n().optional(),stateId:f().optional(),streamType:n().optional(),useIP:g().optional(),zipCode:n().optional()}),responses:{200:L.type()}},getLiveStationGenres:{method:r.Get,path:"/liveStationGenres",headers:L.type(),query:a().from({cityId:M.number().optional().default(0)}),responses:{200:L.type()}},getGenreById:{method:r.Get,path:"/genre/:id",pathParams:a().from({id:M.number()}),headers:L.type(),query:L.type(),responses:{200:a().from({duration:f(),value:T({id:f(),name:n(),logo:n().url(),sort:f(),display:g()})})}},getLiveStationsByIds:{method:r.Get,path:"/liveStations/:ids",pathParams:a().from({ids:f().array().transform(e=>e.join(","))}),query:a().from({allMarkets:g().optional()}),responses:{200:L.type()}},getMarkets:{method:r.Get,path:"/markets",headers:L.type(),query:L.type(),responses:{200:L.type()}},getMarketById:{method:r.Get,path:"/markets/:id",pathParams:L.type(),responses:{200:L.type(),400:L.type(),404:L.type()}}},{pathPrefix:"/content"}),_e=v(),vr=_(["ALBUM","COLLECTION","LIVE","MYMUSIC","PODCAST","RADIO"]),Rr=_e.router({postAds:{method:r.Post,path:"/ads",body:_e.type(),responses:{200:_e.type()}},postStreams:{method:r.Post,path:"/streams",body:a().from({contentIds:K(f()),hostName:n(),limit:f().optional(),playedFrom:f(),startStream:T({contentId:f(),reason:D([A("SONG2START"),A("ARTIST2START")])}).optional(),stationId:n(),stationType:vr}),responses:{200:_e.type()}}},{pathPrefix:"/playback"}),H=v(),ge=_(["ARTIST","CLIP","COLLECTION","FAVORITES","LIVE","N4U","RADIO","PODCAST","TALK","TALKSHOW","TALKTHEME","TRACK"]),Ut=_(["LAST_MODIFIED_DATE","LAST_PLAYED","NAME","PLAYCOUNT","REGISTERED_DATE","TYPE"]),kr=H.router({getStationsById:{method:r.Get,path:"/:profileId/:type/:stationId",pathParams:a().from({profileId:E,type:ge,stationId:S}),query:a().from({fields:gr,limit:ae,offset:Ie,sortBy:Ut.optional()}),responses:{200:H.type()}},getStationBySeedId:{method:r.Get,path:"/:profileId/:type/seedId/:seedId",pathParams:a().from({profileId:E,type:ge,seedId:E}),responses:{200:H.type()}},postAddStation:{method:r.Post,contentType:N.FormUrlEncoded,path:"/:profileId/:type/:contentId",pathParams:a().from({profileId:E,type:ge,contentId:S}),body:H.type(),responses:{200:H.type()}},postDeleteStation:{method:r.Post,path:"/:profileId/:type/:stationId/delete",pathParams:a().from({profileId:E,type:ge,stationId:S}),body:H.type(),headers:H.type(),responses:{200:H.type()}},postRenameStation:{method:r.Post,contentType:N.FormUrlEncoded,path:"/:profileId/:type/:stationId/rename",pathParams:a().from({profileId:E,type:ge,stationId:S}),body:H.type(),headers:H.type(),responses:{200:H.type()}},getStations:{method:r.Get,path:"/:profileId",pathParams:a().from({profileId:E}),query:a().from({campaignId:n().optional(),fields:n().optional(),includePersonalized:g().optional(),limit:ae,offset:Ie,sortBy:Ut,stationTypes:ge.array().transform(e=>e.join(",")).optional()}),headers:H.type(),responses:{200:H.type()},metadata:{failOnValidationMismatch:!1}},getFavoritesStation:{method:r.Get,path:"/:profileId/FAVORITES/seedId/:profileId",pathParams:a().from({profileId:E}),headers:H.type(),responses:{200:H.type()}}},{pathPrefix:"/playlists"}),Te=v(),Nt=_(["CR","CRA","CT","LR","P","PC"]),Ur=Te.router({postDeleteUserFavorite:{method:r.Post,path:"/:profileId/favorites/station/:stationType/:stationId/delete",pathParams:a().from({profileId:E,stationType:Nt,stationId:S}),body:Te.type(),responses:{200:Te.type()}},getUserFavorites:{method:r.Get,path:"/:profileId/favorites",pathParams:a().from({profileId:E}),query:a().from({hardFill:f().optional(),limit:ae,offset:Ie,campaignId:n().optional()}),responses:{200:Te.type()}},postAddUserFavorite:{method:r.Post,path:"/:profileId/favorites/station/:stationType/:stationId",contentType:N.FormUrlEncoded,pathParams:a().from({profileId:E,stationType:Nt,stationId:S}),body:a().from({returnEntity:g().optional()}),responses:{200:Te.type()}}},{pathPrefix:"/profile"}),be=v(),Nr=_(["LRRM","CR","DL"]),Lr=be.router({getUserRecommendations:{method:r.Get,path:"/:ownerProfileId",pathParams:a().from({ownerProfileId:E}),query:be.type(),responses:{200:be.type()}},getRecommendationsForGenres:{method:r.Get,path:"/genre",query:a().strict({fields:n().optional(),genreId:D([me,K(me).transform(e=>e.join(","))]).optional(),lat:f().optional(),limit:f().optional(),lng:f().optional(),offset:f().optional(),template:Nr.optional(),zipCode:D([n(),f()]).transform(e=>typeof e!="string"?e.toString():e).optional()}),responses:{200:be.type()}},getUserRecommendationsForNewView:{method:r.Get,path:"/new/:ownerProfileId",pathParams:a().from({ownerProfileId:E}),query:be.type(),responses:{200:be.type()}}},{pathPrefix:"/recs"}),Ce=v(),Mr=Ce.router({getTasteProfile:{method:r.Get,path:"/:ownerProfileId",pathParams:a().from({ownerProfileId:E}),query:Ce.type(),summary:"Get a user's taste profile",responses:{200:Ce.type()}},postAddSuppressedStations:{method:r.Post,path:"/:ownerProfileId/suppress/stations/add",pathParams:a().from({ownerProfileId:E}),body:Ce.type(),responses:{200:Ce.type()}}},{pathPrefix:"/taste"}),Fr=v(),xr=Fr.router({content:Ar,playback:Rr,playlists:kr,profile:Ur,recs:Lr,taste:Mr},{pathPrefix:"/api/v2"}),at=v(),_r=at.router({postABTestGroup:{method:r.Post,contentType:N.Json,path:"/users/groups/query",body:at.type(),responses:{200:at.type()}}},{pathPrefix:"/abtest"}),Lt=v(),Gr=Lt.router({getTargeting:{method:r.Get,path:"/targeting",query:a().from({id:me.pipe(M.string()).optional(),type:_(["ARTIST","COLLECTION","FAVORITE"])}),responses:{200:Lt.type()}}},{pathPrefix:"/ads"}),it=v(),Dr=it.router({getArtistProfile:{method:r.Get,path:"/profiles/:id",pathParams:a().from({id:E}),responses:{200:it.type()}},getArtistBio:{method:r.Get,path:"/profiles/:id/bio",pathParams:a().from({id:E}),responses:{200:it.type()}}},{pathPrefix:"/artists"}),Z=v(),$r=Z.router({getGenres:{method:r.Get,path:"/genres",query:Z.type(),summary:"Retrieve genre information base on type",responses:{200:Z.type()}},getAlbum:{method:r.Get,path:"/album/:id",pathParams:a().from({id:E}),responses:{200:Z.type()}},getArtistAlbums:{method:r.Get,pathParams:a().from({id:f()}),path:"/artist/:id/albums",query:a().from({limit:ae,pageKey:n().optional()}),responses:{200:Z.type()}},getArtistTracks:{method:r.Get,path:"/artist/:id/tracks",pathParams:a().from({id:E}),query:Z.type(),responses:{200:Z.type()}},getArtistAdsMeta:{method:r.Get,path:"/artists/:artistId/ads-meta",pathParams:a().from({artistId:E}),responses:{200:Z.type()}},getArtists:{method:r.Get,path:"/artists/:ids",pathParams:a().to({ids:Ye}),responses:{200:Z.type()}},getTracks:{method:r.Get,path:"/tracks/:ids",pathParams:a().to({ids:Ye}),query:a().from({limit:ae}),responses:{200:Z.type()}},getLyrics:{method:r.Get,path:"/tracks/lyrics",query:a().from({trackId:E,lyricsLength:E.optional(),timestamped:g().optional(),lyricsLengthMaxDeviation:E.optional()}),responses:{200:Z.type()}}},{pathPrefix:"/catalog"}),I=v(),qr=I.router({getCollections:{method:r.Get,path:"/user/:userId/collection",pathParams:a().from({userId:S}),query:a().from({pageKey:n().optional(),limit:M.number().optional(),status:_(["published","draft"]).optional(),includePersonalized:M.boolean().optional(),playlistFilter:_(["all","followed","created"]).optional(),includeIds:M.boolean().optional()}),responses:{200:I.type()}},postCreateCollection:{method:r.Post,path:"/user/:userId/collection",pathParams:a().from({userId:S}),query:a().from({addToLibrary:g().optional(),includeIds:g().optional()}),body:I.type(),responses:{201:I.type()}},putReorderCollections:{method:r.Put,path:"/user/:userId/collection",pathParams:a().from({userId:S}),body:I.type(),responses:{200:I.type()}},getCollection:{method:r.Get,path:"/user/:userId/collection/:id",pathParams:a().from({id:S,userId:S}),query:I.type(),responses:{200:I.type()}},putUpdateCollection:{method:r.Put,path:"/user/:userId/collection/:id",pathParams:a().from({id:S,userId:S}),query:a().from({addToLibrary:g().optional(),includeIds:g().optional()}),body:I.type(),responses:{200:I.type()}},deleteCollection:{method:r.Delete,path:"/user/:userId/collection/:ids",pathParams:a().to({ids:Ye,userId:S}),body:I.type(),responses:{204:I.type()}},followPlaylist:{method:r.Put,path:"/user/:userId/collection/:id/followers",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{200:I.type()}},unfollowPlaylist:{method:r.Delete,path:"/user/:userId/collection/:id/followers",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{204:I.type()}},publishPlaylist:{method:r.Post,path:"/user/:userId/collection/:id/publish",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{200:I.type()}},unpublishPlaylist:{method:r.Post,path:"/user/:userId/collection/:id/unpublish",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{204:I.type()}},restoreCollection:{method:r.Put,path:"/user/:userId/collection/:id/restore",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{204:I.type()}},addTracksToCollection:{method:r.Put,path:"/user/:userId/collection/:id/tracks",pathParams:a().from({id:S,userId:S}),query:a().from({addToLibrary:g().optional()}),body:I.type(),responses:{200:I.type()}},removeTracksFromCollection:{method:r.Delete,path:"/user/:userId/collection/:id/tracks",pathParams:a().from({id:S,userId:S}),body:I.type(),responses:{204:I.type()}},prepopulatePlaylist:{method:r.Post,path:"/user/:userId/collection/prepopulate",pathParams:a().from({userId:S}),body:I.type(),responses:{200:I.type()}},getMyMusicTracks:{method:r.Get,path:"/user/:userId/collection/prepopulate",pathParams:a().from({userId:S}),query:I.type(),responses:{200:I.type()}},addMyMusicTracks:{method:r.Put,path:"/user/:userId/mymusic",pathParams:a().from({userId:S}),body:I.type(),responses:{200:I.type()}},removeMyMusicTracks:{method:r.Delete,path:"/user/:userId/mymusic/:trackIds",pathParams:a().to({userId:S,trackIds:Ye}),body:I.type(),responses:{204:I.type()}},getMyMusicAlbums:{method:r.Get,path:"/user/:userId/mymusic/albums",pathParams:a().from({userId:S}),query:I.type(),responses:{200:I.type()}},getMyMusicAlbum:{method:r.Get,path:"/user/:userId/mymusic/albums/:albumId",pathParams:a().from({userId:S,albumId:E}),responses:{200:I.type()}},getMyMusicArtist:{method:r.Get,path:"/user/:userId/mymusic/artists/:albumId",pathParams:a().from({userId:S,artistId:E}),query:I.type(),responses:{200:I.type()}},getMyMusicImages:{method:r.Get,path:"/user/:userId/mymusic/images",pathParams:a().from({userId:S}),responses:{200:I.type()}},getMyMusicTrackUpdates:{method:r.Get,path:"/user/:userId/mymusic/tracks",pathParams:a().from({userId:S}),query:I.type(),responses:{200:I.type()}},removeRecentlyPlayed:{method:r.Delete,path:"/user/:userId/recently-played/:id",pathParams:a().from({userId:S,id:S}),body:I.type(),responses:{204:I.type()}},getFollowStatus:{method:r.Get,path:"/follows/user/:userId/collection/:id",pathParams:a().from({userId:S,id:S}),responses:{200:I.type(),404:I.type()}}},{pathPrefix:"/collection"}),le=v(),jr=T({ads:T({audio_ad_provider:A("ad-providers/triton").nullable().optional(),enable_triton_token:g(),provider_id:f()}),brand:n().optional().nullable(),callLetters:n(),country:n(),email:n().optional().nullable(),description:n().optional(),feeds:T({feed:n().optional(),childOriented:M.boolean().optional(),enableTritonTracking:g().optional()}).optional(),format:n().optional().nullable(),freq:n(),freq_clean:n().optional(),genres:K(T({id:f(),name:n(),isPrimary:g(),sortIndex:f(),country:n().transform(e=>e.replace("countries/",""))})),gracenote_enabled:g(),id:f(),isActive:g(),logo:n().optional(),markets:K(T({city:n(),cityId:f(),country:n(),countryId:f(),id:f(),isOrigin:g(),isPrimary:g(),name:n(),sortIndex:f().optional(),state:n(),stateId:f()})),name:n(),name_clean:n().optional(),phone:n().optional().nullable(),provider:n().optional(),recentlyPlayedEnabled:g().optional(),sms:n().optional().nullable(),social:T({facebook:n().nullable().optional(),twitter:n().nullable().optional(),instagram:n().nullable().optional(),google:n().nullable().optional(),snapchat:n().nullable().optional(),tiktok:n().nullable().optional(),youtube:n().nullable().optional(),threads:n().nullable().optional()}).optional(),streams:T({hls_stream:n().nullable().optional(),secure_hls_stream:n().nullable().optional(),pls_stream:n().nullable().optional(),secure_pls_stream:n().nullable().optional(),abacast_stream:n().nullable().optional(),shoutcast_stream:n().nullable().optional(),secure_shoutcast_stream:n().nullable().optional(),pivot_hls_stream:n().nullable().optional(),dash_stream:n().nullable().optional(),secure_dash_stream:n().nullable().optional(),secure_mp3_pls_stream:n().nullable().optional()}),website:n().optional().nullable()}),Hr=le.router({getCurrentTrackMeta:{method:r.Get,path:"/stream/:streamId/currentTrackMeta",pathParams:a().from({streamId:E}),query:a().from({defaultMetadata:g().optional()}),responses:{200:le.type(),204:le.type()}},getStationMeta:{method:r.Get,path:"/stream/:stationId/station-meta",pathParams:a().from({stationId:E}),responses:{200:a().fromSchema(jr)}},getStreamTrackHistory:{method:r.Get,path:"/stream/:streamId/trackHistory",pathParams:a().from({streamId:E}),query:le.type(),responses:{200:le.type()}},getStreamTopArtists:{method:r.Get,path:"/stream/:streamId/topArtists",pathParams:a().from({streamId:E}),query:le.type(),responses:{200:le.type()}}},{pathPrefix:"/live-meta"}),Ge=v(),Br=Ge.router({getLocationConfig:{method:r.Get,path:"/locationConfig",query:Ge.type(),headers:Ge.type(),responses:{200:Ge.type()}}}),pt=v(),Yr=pt.router({postGenerateTritonToken:{method:r.Post,path:"/triton/token",body:pt.type(),responses:{200:pt.type()}}},{pathPrefix:"/oauth"}),De=v(),Kr=De.router({postReporting:{method:r.Post,path:"/reporting",body:a().from({modes:K(n()),offline:g().optional(),playedDate:f().default(()=>Date.now()),playerKey:n().optional(),replay:g().optional(),reportPayload:n().optional(),secondsPlayed:f(),stationId:n().optional(),stationType:_(["RADIO","LIVE","COLLECTION","MYMUSIC","ALBUM","PODCAST"]).optional(),status:_(["DONE","SKIP","ERROR","APPCLOSE2","STATIONCHANGE","APPCLOSE","REPLAY","SHUFFLE","REWIND","START","REPORT_15","PAUSE","RESUME"])}),responses:{200:De.type()},metadata:{failOnValidationMismatch:!1}},postLiveStationReporting:{method:r.Post,path:"/liveStation/reporting",body:De.type(),responses:{204:De.type()}}},{pathPrefix:"/playback"}),m=v(),V={UNPLAYED:A("UNPLAYED"),SEASON:A("SEASON"),YEAR:A("YEAR"),DOWNLOADED:A("DOWNLOADED"),ALL:A("ALL")},Mt={ASC:A("asc"),DESC:A("desc")},dt={MARK_AS_PLAYED_ACTION:"MARK_AS_PLAYED_ACTION",MARK_AS_UNPLAYED_ACTION:"MARK_AS_UNPLAYED_ACTION",PREFERENCES:"PREFERENCES"},zr=D([V.UNPLAYED,V.SEASON,V.YEAR,V.DOWNLOADED,V.ALL]).optional();D([A(dt.MARK_AS_PLAYED_ACTION),A(dt.MARK_AS_UNPLAYED_ACTION),A(dt.PREFERENCES)]).optional();const ft=T({id:zr,value:n().optional()}).optional(),yt=D([Mt.ASC,Mt.DESC]).optional();T({filter:ft,sort:yt});const Vr=m.router({getPodcastCategories:{method:r.Get,path:"/categories",responses:{200:m.type()}},getPodcastCategory:{method:r.Get,path:"/categories/:id",pathParams:a().from({id:E}),query:m.type(),responses:{200:m.type()}},getPodcastDirectory:{method:r.Get,path:"/directory",responses:{200:m.type()}},getEpisode:{method:r.Get,path:"/episodes/:id",pathParams:m.type(),query:m.type(),responses:{200:m.type()}},getRecentlyPlayedEpisodes:{method:r.Get,path:"/episodes/recentlyPlayed",responses:{200:m.type()}},getPodcastFollows:{method:r.Get,path:"/follows",query:m.type(),responses:{200:m.type()}},getIsFollowingPodcast:{method:r.Get,path:"/follows/:podcastId",pathParams:a().from({podcastId:E}),query:m.type(),responses:{200:m.type(),404:m.type()}},followPodcast:{method:r.Put,path:"/follows/:podcastId",pathParams:a().from({podcastId:E}),body:m.type(),query:m.type(),responses:{204:m.type()}},unfollowPodcast:{method:r.Delete,path:"/follows/:podcastId",pathParams:a().from({podcastId:E}),body:m.type(),query:m.type(),responses:{204:m.type()}},updateFollowedPodcastSettings:{method:r.Put,path:"/follows/:podcastId/settings",pathParams:m.type(),body:m.type(),responses:{204:m.type()}},getPodcast:{method:r.Get,path:"/podcasts/:id",pathParams:a().from({id:E}),responses:{200:m.type()}},getPodcastEpisodes:{method:r.Get,path:"/podcasts/:id/episodes",pathParams:m.type(),query:m.type(),responses:{200:m.type()}},getPodcastEpisodesWithWindow:{method:r.Get,path:"/episodes/:episodeId/window",pathParams:m.type(),query:m.type(),responses:{200:m.type()}},updateEpisodeProgress:{method:r.Put,path:"/podcasts/:podcastId/progress/:episodeId",pathParams:m.type(),body:a().from({completed:g().optional(),secondsPlayed:f().nonnegative()}),responses:{204:m.type(),400:m.type()}},removeEpisodeProgress:{method:r.Delete,path:"/podcasts/:podcastId/progress/:episodeId",pathParams:m.type(),body:m.type(),responses:{204:m.type()}},getUnlistenedEpisodeCount:{method:r.Get,path:"/podcasts/:podcastId/unlistenedEpisodeCount",pathParams:m.type(),responses:{200:m.type()}},updateLastViewed:{method:r.Patch,path:"/podcasts/lastViewed",body:m.type(),responses:{204:m.type()}},getPodcastBySlug:{method:r.Get,path:"/podcasts/slug/:slug",pathParams:m.type(),responses:{200:m.type()}},getProgressByUser:{method:r.Get,path:"/progress",query:m.type(),responses:{200:m.type()}},getPodcastFilterPreferences:{method:r.Get,path:"/podcasts/:podcastId/preferences",pathParams:m.type(),responses:{200:T({profileId:f(),podcastId:f(),filterAndSort:a().from({filter:ft.unwrap().merge(T({id:D([V.DOWNLOADED,V.SEASON,V.UNPLAYED,V.YEAR]).optional()})).optional(),sort:yt})})}},updatePodcastFilterPreferences:{method:r.Put,path:"/podcasts/:podcastId/preferences",pathParams:m.type(),body:a().from({filter:ft.unwrap().merge(T({id:D([V.DOWNLOADED,V.SEASON,V.UNPLAYED,V.YEAR]).optional()})).optional(),sort:yt}),responses:{200:m.type(),400:m.type()}},deletePodcastFilterPreferences:{method:r.Delete,path:"/podcasts/:podcastId/preferences",pathParams:m.type(),body:m.type(),responses:{204:m.type()}},getRecentPlaybackStatus:{method:r.Get,path:"/podcasts/:podcastId/recently-played/progress",pathParams:m.type(),responses:{200:m.type(),400:m.type(),401:m.type()}}},{pathPrefix:"/podcast"}),Wr=v(),Jr=Wr.router({getPrivacySettings:{method:r.Get,path:"/accounts/:profileId/privacySettings",pathParams:a().from({profileId:E}),responses:{200:a().from({hasOptedOut:g(),usPrivacy:D([A("1YNN"),A("1YYN")])}).catch({hasOptedOut:!1,usPrivacy:"1YNN"}),404:a().from({hasOptedOut:g().default(!1),usPrivacy:D([A("1YNN"),A("1YYN")]).default("1YNN")})}}},{pathPrefix:"/privacy"}),Zr=_(["ARTIST","COLLECTION","FAVORITES","LIVE","PODCAST"]),B=T({id:n(),type:Zr,imageUrl:n().optional(),title:n().optional()}),Xr=T({0:B.optional(),1:B.optional(),2:B.optional(),3:B.optional(),4:B.optional(),5:B.optional(),6:B.optional(),7:B.optional(),8:B.optional(),9:B.optional(),10:B.optional(),11:B.optional(),12:B.optional(),13:B.optional(),14:B.optional()});Xr.keyof();const Vs=_(["live","artist","track"]),Qr=D([A("Custom"),A("Live")]),Ws=_(["Custom","Live"]),w=v(),es=w.router({putProfileGenres:{method:r.Put,path:"/tasteProfile/genres",body:w.type(),responses:{204:w.type()}},getFollowedArtists:{method:r.Get,path:"/follows/artist",query:a().from({limit:ae,offset:Ie}),responses:{200:w.type(),404:w.type()}},followArtist:{method:r.Put,path:"/follows/artist",body:w.type(),responses:{201:w.type(),204:w.type()}},unfollowArtist:{method:r.Delete,path:"/follows/artist/:artistId",body:w.type(),pathParams:a().from({artistId:E}),responses:{204:w.type()}},getIsArtistFollowed:{method:r.Get,path:"/follows/artist/:artistId",pathParams:a().from({artistId:E}),responses:{204:w.type(),404:w.type()}},getFollowedLiveStations:{method:r.Get,path:"/follows/live",query:a().from({limit:ae,offset:Ie}),responses:{200:w.type(),404:w.type()}},followLiveStation:{method:r.Put,path:"/follows/live",body:w.type(),responses:{201:w.type(),204:w.type()}},unfollowLiveStation:{method:r.Delete,path:"/follows/live/:stationId",body:w.type(),pathParams:a().from({stationId:E}),responses:{200:w.type(),204:w.type()}},getIsLiveStationFollowed:{method:r.Get,path:"/follows/live/:liveStationId",pathParams:a().from({liveStationId:E}),responses:{204:w.type(),404:w.type()}},getPresets:{method:r.Get,path:"/presets",responses:{200:w.type()}},putPresets:{method:r.Put,body:w.type(),path:"/presets",responses:{200:w.type(),201:w.type()}},getTrackThumbStatus:{method:r.Get,path:"/thumbs/track/:trackId",responses:{200:w.type(),404:w.type(),401:w.type()}},putThumbTrack:{method:r.Put,path:"/thumbs",body:w.type(),responses:{204:w.type(),400:w.type()}},deleteResetThumb:{method:r.Delete,path:"/thumbs",query:a().from({stationId:S,stationType:Qr,trackId:S}),body:w.type(),responses:{204:w.type(),400:w.type(),401:w.type(),404:w.type()}}},{pathPrefix:"/profiles"}),G=v(),ts=G.router({getPodcastRecs:{method:r.Get,path:"/podcastRecs",query:G.type(),responses:{200:G.type(),404:G.type()}},getPlaylistRecs:{method:r.Get,path:"/playlistRecs",query:G.type(),responses:{200:G.type(),404:G.type()}},getArtistRecs:{method:r.Get,path:"/artist/genre",query:G.type(),responses:{200:G.type(),404:G.type()}},getLiveRecs:{method:r.Get,path:"/live-station",query:G.type(),responses:{200:G.type(),404:G.type()}},getSimilarStations:{method:r.Get,path:"/live-station-recs",query:G.type(),responses:{200:G.type()}},getMadeForYouRecs:{method:r.Get,path:"/madeForYouRecs",query:G.type(),responses:{200:G.type(),404:G.type()}}},{pathPrefix:"/recs"}),Ae=v(),os=Ae.router({getSearchByContentType:{method:r.Get,path:"/byContentType",query:Ae.type(),responses:{200:Ae.type()}},getSearchCombined:{method:r.Get,path:"/combined",query:Ae.type(),responses:{200:Ae.type()}}},{pathPrefix:"/search"}),X=v(),rs=X.router({postGetShortLivedToken:{method:r.Post,path:"/token/:userId",pathParams:X.type(),body:X.type(),responses:{200:X.type()}},postSetActiveStreamer:{method:r.Post,path:"/setActiveStreamer",body:X.type(),responses:{200:X.type()}},postGetApiToken:{method:r.Post,path:"/api-token",body:X.type(),query:X.type(),responses:{201:X.type()}},isValidSession:{method:r.Head,path:"/sessions",responses:{200:X.type()}}},{pathPrefix:"/session"}),Y=v(),ss=Y.router({getRecurlyStatus:{method:r.Get,path:"/status",responses:{200:Y.type()}},getRecurlyBillingInfo:{method:r.Get,path:"/billingInfo",responses:{200:Y.type()}},deleteRecurlyBillingInfo:{method:r.Delete,path:"/billingInfo",body:Y.type(),responses:{204:Y.type()}},putRecurlyBillingInfo:{method:r.Put,path:"/billingInfo",body:Y.type(),responses:{204:Y.type()}},updateRecurlyAutoRenew:{method:r.Put,path:"/autoRenew",body:Y.type(),responses:{204:Y.type()}},getRecurlyInvoices:{method:r.Get,path:"/invoices",responses:{200:Y.type()}},getRecurlyPlans:{method:r.Get,path:"/plans",responses:{200:Y.type()}},postRecurlyPurchase:{method:r.Post,path:"/purchase",contentType:N.Json,body:Y.type(),responses:{204:Y.type()}},postRecurlyPurchasePreview:{method:r.Post,path:"/purchase/preview",contentType:N.Json,body:Y.type(),responses:{200:Y.type()}}},{pathPrefix:"/external/recurly"}),z=v(),ns=z.router({recurly:ss,getSubscriptionStatus:{method:r.Get,path:"/status",responses:{200:a().from({entitlements:K(n()),subscription:T({expiry:f().optional(),hasNapsterBillingHistory:g(),isAutoRenewing:g(),isEligibleForAnotherTrial:g(),isFamilyPlanParent:g().optional(),isOnHold:g().optional(),isTrial:g(),isTrialEligible:g(),lastModified:f().optional(),lastTrialExpirationDate:f().optional(),productId:n().optional(),promosRedeemed:K(n()),source:n().optional(),terminationDate:f().optional(),type:br})})}},postFamilyPlanAcceptInvitation:{method:r.Post,path:"/external/familyPlan/acceptInvitation",query:z.type(),body:z.type(),responses:{200:z.type()}},getFamilyPlanMembers:{method:r.Get,path:"/external/familyPlan/members",query:z.type(),responses:{200:z.type()}},postFamilyPlanMembers:{method:r.Post,path:"/external/familyPlan/members",query:z.type(),body:z.type(),responses:{200:z.type()}},deleteFamilyPlanMembers:{method:r.Delete,path:"/external/familyPlan/members",query:z.type(),body:z.type(),responses:{204:z.type()}},getFamilyPlanParentInfo:{method:r.Get,path:"/external/familyPlan/parentInfo",responses:{200:z.type()}}},{pathPrefix:"/subscription"}),as=v(),is=as.router({abtest:_r,ads:Gr,artists:Dr,catalog:$r,collection:qr,livemeta:Hr,location:Br,oauth:Yr,playback:Kr,podcast:Vr,privacy:Jr,profiles:es,recs:ts,search:os,session:rs,subscription:ns},{pathPrefix:"/api/v3"}),ps=v(),Ft=ps.router({v1:Cr,v2:xr,v3:is},{strictStatusCodes:!0}),te=go({enabled:!0,namespace:"@iheartradio/web.api/amp",pretty:!0});function ds(e){const t=new FormData;for(const[o,s]of Array.isArray(e)?e:Object.entries(e)){if(Bt(s))break;switch(!0){case typeof s=="string":{t.append(o,s);break}default:{t.append(o,JSON.stringify(s));break}}}return t}function ls(e){return Object.entries(he(e)?Kt(e,ne):{}).map(([t,o])=>Wt(o)||Vt(o)||Oo(o)?`${encodeURIComponent(t)}=${encodeURIComponent(o)}`:null).filter(ne).join("&")}function cs(e,t={}){const{baseUrl:o,query:s}=t,i=s?new URLSearchParams(he(s)?Object.entries(s).map(([c,u])=>[c,u.toString()]):s).toString().trim():"",p=e+(i&&i.length>0?"?"+i:i);if(!URL.canParse(p,o?.toString()))throw new Error(`Cannot create URL from ${o} + ${e} + ${s}`);return new URL(p,o)}function us(e){return e>=200&&e<=299}function hs(e){switch(e){case 481:return"Invalid Signature";case 482:return"Key Not Found";case 483:return"Unsupported Algorithm";case 484:return"Token Not Found";case 489:return"Other Token Error"}}async function ms({baseUrl:e,hostName:t,path:o,profileId:s,sessionId:i}){const p=new URL(e);p.pathname=o,p.searchParams.append("hostname",t??"");const c=new Headers;return s&&c.append("X-IHR-Profile-ID",String(s)),i&&c.append("X-IHR-Session-ID",i),await fetch(p,{method:"POST",headers:c,mode:"no-cors"}).then(async u=>{if(!u.ok)throw new ct(new Response(u.headers.get("Content-Type")?.includes("json")?JSON.stringify(u.body):u.body,{status:u.status,headers:u.headers}),new Request(p,{headers:c,body:null,method:"POST"}));const{token:O,expiration:b=Math.floor((Date.now()+bt("24h"))/1e3)}=await u.json();return{token:O,expiration:b}})}const ao="__api-token",io=Object.freeze({path:"/",httpOnly:!0,secure:!0,maxAge:Math.floor(bt("24h")/1e3)});function fs(e){return Object.entries(e).reduce((t,[o,s])=>{if(Wt(s)||Vt(s)){const i=o==="maxAge"?"Max-Age":o;t.push(`${wt(i)}=${s}`)}else s===!0&&t.push(wt(o));return t},[]).join("; ")}async function ys(e){return`${ao}=${btoa(JSON.stringify(e))}; ${fs(io)}`}const gs=["listen.web.au","listen.web.ca","listen.web.mx","listen.web.nz","listen.web.us","listen.web.ww"],bs=n().refine(e=>gs.includes(e)?e:void 0).optional();class xt extends Error{constructor(){super("Number of request retries exceeded")}}function Ps(e,t){if(e===N.FormData)return t instanceof FormData?t:he(t)?ds(t):void 0;if(e===N.FormUrlEncoded)return ls(t);if(e===N.Json)return JSON.stringify(t)}function _t(e){return Object.keys(e).sort().reduce((t,o)=>(t[o]=e[o],t),{})}const Gt=e=>e.method!=="GET",ce={ProfileId:"X-IHR-Profile-ID",SessionId:"X-IHR-Session-ID",UserId:"X-User-Id",Session_Id:"X-Session-Id",HostName:"X-hostName",Locale:"X-Locale",Token:"X-Token"},lt="https://global.api.iheart.com",Is=2,ve={Begin:"api-executor-begin",End:"api-executor-end",Measure:"api-executor-measure"};class Ss{#s;#e;#t;#i;#o;#p;#r;#c;#n;#a;#d;#l;constructor(t={}){const{profileId:o,sessionId:s,userPrivacyOptOut:i,hostName:p,baseUrl:c,locale:u,debug:O,logTimings:b,throwOnErrorStatus:l,throwOnUnknownStatus:y,token:d,tokenCookieSerializer:P}=t;this.#c=y??!1,this.#l=P??ys,this.#n=O??!1,this.#a=b??!1,this.#d=l??!1,this.#e=o,this.#t=s,this.#i=i??!1,this.#o=p,this.#s=c??lt,this.#p=u,this.#r=d}get hasCredentials(){return ne(this.#e)&&ne(this.#t)}#u=async(t,o=0,s)=>{const i=t.logTimings??this.#a??!1;if(i&&o===0)try{performance.mark(ve.Begin)}catch{}const{headers:p,body:c,rawBody:u,path:O,method:b,route:l,rawQuery:y,rawParams:d,contentType:P}=t,{setCookie:F}=s??{setCookie:void 0},$=t.debug??this.#n??!1,Ke=t.throwOnErrorStatus??this.#d??!1,Se=(he(l.metadata)?l.metadata?.failOnValidationMismatch:!0)??!0,Ne={...Kt({[ce.ProfileId]:this.#e?.toString(),[ce.SessionId]:this.#t,[ce.UserId]:this.#e?.toString(),[ce.Session_Id]:this.#t,[ce.HostName]:this.#o,[ce.Locale]:this.#p,[ce.Token]:bs.safeParse(this.#o).success?`Bearer ${this.#r}`:void 0},ne),...p};let Le=null,Ee=null,C=null;const q=[eo?AbortSignal.timeout(3e3):void 0,t.fetchOptions?.signal].filter(ne),W={...t.fetchOptions,signal:AbortSignal.any(q)};if(Be(l)&&l?.pathParams instanceof We){const h=l?.pathParams.safeParse(d);if(!h.success){const k=we(h.error);throw $&&te.warn("Error parsing path params:",{route:l,validationError:k}),k}Le=h.data}if(Be(l)&&l?.query instanceof We){const h=l?.query?.optional().safeParse(y);if(!h.success){const k=we(h.error);throw $&&te.warn("Error parsing query:",{validationError:k,route:l}),k}Ee=he(h.data)?_t(h.data):h.data}if(Gt(l)&&l?.body instanceof We){const h=l?.body.safeParse(u);if(!h.success){const k=we(h.error);throw $&&te.warn("Error parsing body:",{validationError:k,route:l}),k}C=h.data}const J=he(y)?_t(y):y,ie=mt(Ee??J,this.baseUrl,Le??d,l,!1),oe=Gt(l)?Ps(P,C??u)??c:c,Q={...t,headers:Ne,body:oe,path:mt(J,this.baseUrl,d,l,!1),rawQuery:J},j={...t,body:oe,headers:Ne,path:ie,rawQuery:J};if(Se&&!wo(Fe(Q,["route"]),Fe(j,["route"])))throw te.error("Final args are not deeply equal:",{finalArgsWithValidation:Fe(j,["route"]),finalArgsWithoutValidation:Fe(Q,["route"])}),new Error("Final args are not deeply equal");try{if(o>=Is)throw new xt;const h=await so({...j,fetchOptions:W});if($)try{fr({appRoute:l,response:h})}catch(k){let ee=k;Re(k)&&(ee=we(k)),te.warn(`Response validation failed for "${l.path}"`,{error:ee,route:l})}if(h.status===480||h.status===484){const{token:k,expiration:ee}=await ms({baseUrl:this.#s??lt,hostName:this.#o,path:Ft.v3.session.postGetApiToken.path,profileId:this.#e,sessionId:this.#t});return this.#r=k,this.#u(t,o+1,{setCookie:await this.#l({token:k,expiration:ee})})}if($&&te.log("rawResponse",{rawResponse:h}),Ke&&!us(h.status)){const k=hs(h.status),ee=cs(O,{query:y,baseUrl:this.#s}),pe=h.headers.get("Content-Type")?.includes("json")?JSON.stringify(h.body,null,2):h.body,ye=new Headers(Object.fromEntries(h.headers.entries()));throw k&&ye.append("X-Token-Error",k),new ct(new Response(pe,{status:h.status,headers:ye}),new Request(ee,{headers:p,body:oe,method:b}))}return F&&h.headers.append("Set-Cookie",F),h}catch(h){if(h instanceof Error&&(h.name==="AbortError"||h.name==="TimeoutError")){const k=h.name==="AbortError"?"was aborted":"timed out";throw te.error(`Request ${k}:`,j),h}throw h instanceof ct||h instanceof ro?h:Re(h)?we(h):(h instanceof TypeError||h instanceof xt||te.warn("Unhandled error type:",{error:h}),h)}finally{if(i){try{performance.mark(ve.End);const{duration:h}=performance.measure(ve.Measure,ve.Begin,ve.End);te.log(`TIMING: ${b} ${O}`,{duration:`${bt(new Intl.NumberFormat("en-US",{maximumSignificantDigits:6}).format(h))})`})}catch{}performance.clearMarks(),performance.clearMeasures()}}};get api(){return no(Ft,{throwOnUnknownStatus:this.throwOnUnknownStatus,baseUrl:this.baseUrl,baseHeaders:{accept:"application/json"},api:this.#u})}getConfig(){return{baseUrl:this.#s,profileId:this.#e,sessionId:this.#t,userPrivacyOptOut:this.#i,hostName:this.#o,locale:this.#p,logTimings:this.#a,debug:this.#n,throwOnErrorStatus:this.#d,throwOnUnknownStatus:this.#c,token:this.#r}}setConfig(t={}){"baseUrl"in t&&(this.#s=t.baseUrl??lt),"profileId"in t&&(this.#e=t.profileId),"sessionId"in t&&(this.#t=t.sessionId),"userPrivacyOptOut"in t&&(this.#i=t.userPrivacyOptOut??!1),"hostName"in t&&(this.#o=t.hostName),"locale"in t&&(this.#p=t.locale),"logTimings"in t&&(this.#a=t.logTimings??this.#a),"debug"in t&&(this.#n=t.debug??this.#n),"token"in t&&(this.#r=t.token??this.#r),"tokenCookieSerializer"in t&&(this.#l=t.tokenCookieSerializer??this.#l)}get baseUrl(){if(this.#s)return this.#s;throw new Error("baseUrl is not set")}get profileId(){if(this.#e)return this.#e;throw new Error("profileId is not set")}get sessionId(){if(this.#t)return this.#t;throw new Error("sessionId is not set")}get userPrivacyOptOut(){if(this.#i)return this.#i;throw new Error("userPrivacyOptOut is not set")}get hostName(){if(this.#o)return this.#o;throw new Error("hostName is not set")}get locale(){return this.#p}get throwOnErrorStatus(){return this.#d??!1}get throwOnUnknownStatus(){return this.#c??!1}get token(){return this.#r}set token(t){this.#r=t}get logTimings(){return this.#a??!1}get debug(){return this.#n??!1}}function Ue({cookie:e,schema:t}){if(t._def.typeName==="ZodObject")for(let o in t.shape)t.shape[o].optional();return{isTyped:!0,get name(){return e.name},get isSigned(){return e.isSigned},get expires(){return e.expires},async parse(o,s){if(!o)return null;let i=await e.parse(o,s);return await Dt(t,i)},async serialize(o,s){let i=await Dt(t,o);return e.serialize(i,s)}}}function Es(e){return`__flash_${e}__`}function Dt(e,t){if(e._def.typeName!=="ZodObject")return e.nullable().parseAsync(t);let o=e,s={};for(let i in o.shape)s[Es(i)]=o.shape[i].optional();return o.extend(s).parseAsync(t)}T({theme:_(["system","light","dark"])});const $t=a().from({name:n(),marketId:f(),loc:T({lat:f(),lon:f()}),stationCount:f(),stateAbbreviation:n(),stateId:n(),stateName:n(),city:n(),countryName:n(),countryId:n(),countryAbbreviation:n()},{required_error:"Market is missing required fields",invalid_type_error:"Market has invalid type"}),Os=T({market:$t.optional(),geoMarket:$t.optional()},{required_error:"Session cookie is missing required fields",invalid_type_error:"Session cookie has invalid type"}),ws=Ue({cookie:fe(ao,io),schema:T({token:n().optional(),expiration:f().optional()}).nullable()}),Ts=fe("iheartradio-user",{path:"/",sameSite:"lax",httpOnly:!0});Ue({cookie:Ts,schema:T({user:Jt.optional()}).catch({user:void 0})});const Cs=fe("iheart-user",{domain:"iheart.com",httpOnly:!1,sameSite:"none",secure:!0});Ue({cookie:Cs,schema:T({user:Jt.optional()}).nullable().catch({user:void 0})});const As="tryOutListen";fe(As,{path:"/",sameSite:"lax",httpOnly:!0,encode:e=>e?"true":"false"});fe("iheartradio-account-auth",{path:"/",sameSite:"lax",httpOnly:!0});Ue({cookie:fe("showed-user-education-dialog",{path:"/",sameSite:"lax",httpOnly:!0}),schema:T({showUserEducationModal:g()}).nullable()});const vs="iheart-session",Rs=fe(vs,{domain:"iheart.com",httpOnly:!1,sameSite:"none",secure:!0}),ks=Ue({cookie:Rs,schema:Os.default({}).catch({})}),Us=ks;Eo({cookie:Us});var Ns=e=>e;function Ls(e){try{return e?JSON.parse(decodeURIComponent(Ms(atob(e)))):{}}catch{return{}}}function Ms(e){const t=e.toString();let o="",s=0,i,p;for(;s<t.length;)i=t.charAt(s++),/[\w*+\-./@]/.exec(i)?o+=i:(p=i.charCodeAt(0),o+=p<256?"%"+qt(p,2):"%u"+qt(p,4).toUpperCase());return o}function qt(e,t){let o=e.toString(16);for(;o.length<t;)o="0"+o;return o}function Fs(){const e=So.get("iheart-user"),t=Ls(e);return t&&he(t)&&t.user?t.user:null}const po=Ns({isAnonymous:!0,subscription:{type:"FREE"}}),lo=R.createContext(po);function Js(e){const t=bo.c(8),{children:o}=e;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={initializeWithValue:!1},t[0]=s):s=t[0];const[,i]=er("pid",null,s);let p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=Fs?.(),t[1]=p):p=t[1];const c=p,u=typeof window<"u",O=No();let b,l;t[2]!==i?(b=()=>{u&&c&&(Gs.setConfig({profileId:c.profileId,sessionId:c.sessionId}),i(c.profileId))},l=[u,i,c],t[2]=i,t[3]=b,t[4]=l):(b=t[3],l=t[4]),R.useEffect(b,l);const y=(O?c:null)??po;let d;return t[5]!==o||t[6]!==y?(d=jt.jsx(lo.Provider,{value:y,children:o}),t[5]=o,t[6]=y,t[7]=d):d=t[7],d}function xs(){return R.useContext(lo)}const{serialize:co}=ws,uo=R.createContext(null),_s={profileId:void 0,sessionId:void 0,throwOnUnknownStatus:!0,throwOnErrorStatus:!0,tokenCookieSerializer:co};function Zs({children:e,options:t=_s}){const o=xs(),s=R.useRef(t),i=R.useMemo(()=>{const{current:p}=s,c=Ds(p);return o&&(o.profileId!==p?.profileId||o.sessionId!==p?.sessionId)&&(s.current={...p,profileId:o.profileId,sessionId:o.sessionId},c.setConfig({...p,profileId:o.profileId,sessionId:o.sessionId})),c},[o]);return jt.jsx(uo.Provider,{value:R.useMemo(()=>i,[i]),children:e})}function Xs(){const e=R.use(uo);return Wo(e,"useAmpClient must be used within AmpClientProvider"),e}function gt(e){return new Ss({throwOnUnknownStatus:!0,throwOnErrorStatus:!0,tokenCookieSerializer:co,...e})}const Gs=gt();let $e;function Ds(e){return eo?gt(e):($e?$e.setConfig(e):$e=gt(e),$e)}export{Zs as A,jr as G,vs as M,V as P,Vo as S,Vs as T,Bs as U,Gs as a,No as b,Wo as c,Os as d,Xs as e,Ks as f,Tt as g,Vt as h,Re as i,zs as j,wo as k,Mt as l,bt as m,wt as n,zr as o,Ws as p,eo as q,Hs as r,Ys as s,Wt as t,xs as u,Js as v,er as w};
//# sourceMappingURL=amp-client-C2ZZL0mA.js.map

import{l as a,b as y}from"./http-error-DJhpcL-Y.js";import{s as v}from"./image-DSV20kzL.js";import{M as p}from"./use-item-selected-BbUZv3TT.js";function m(r){if(typeof r=="string"){const s=r.trim().split(/[/:]/);return s.length!==2?void 0:s.map(n=>Number.parseInt(n))}if(Array.isArray(r)&&r.length===2)return r}function l({height:r,width:s,ratio:n}){if(r&&s)return{height:r,width:s};if(y(n)||n===0||Array.isArray(n)&&n.includes(0))return;const t=Array.isArray(n)?n[0]/n[1]:n;if(!r&&s)return{height:s/t,width:s};if(!s&&r)return{height:r,width:r*t}}function d(r,{height:s,width:n,densities:t=[1,1.5,2],ratio:f,gravity:i,run:c}){if(!r||typeof r=="string"&&!URL.canParse(r))return{src:r??void 0,srcSet:void 0};const e=r instanceof p?r.clone():p.fromURL(r);i&&!e.hasOp("gravity")&&e.gravity(i);let o;return f&&(o=m(f),a(o)&&!e.hasOp("ratio")&&e.ratio(...o)),c&&!e.hasOp("run")&&e.run(c),{...l({width:n,height:s,ratio:o}),src:e.clone().scale(n).toString(),srcSet:t?v.stringify(t?.map(u=>({density:u,url:e.clone().scale(Math.ceil(n*u)).toString()}))):void 0}}export{d as g};
//# sourceMappingURL=utils-VI4uZZTW.js.map

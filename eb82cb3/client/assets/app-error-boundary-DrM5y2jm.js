import{j as a,a as _}from"./create-logger-DNtzi1_a.js";import{c as y,a as H,f as P,S as V,w as L,r as M,l as E,v as l,_ as R,F as x,B as D,as as $}from"./text-CLqYBJ6O.js";import{r as p,c as W,g as B,H as Z,f as U,I as F,h as z}from"./chunk-QMGIS6GS-CFDD2jAw.js";import{y as J,b as q,H as G,r as K}from"./http-error-DJhpcL-Y.js";import{I as Y}from"./illustrated-message-BZMDQI-c.js";import{E as X}from"./error-outline-CtlTnojc.js";import{R as Q}from"./radio-BUbdRu0J.js";import{d as rr,b as er,a as or}from"./dialog-BOgHZT5V.js";import{S as b}from"./stack-DldWOXlj.js";import{d as tr,_ as nr,b as ir,e as ar,a as sr}from"./create-analytics-DYSkN0SF.js";import{n as cr}from"./chunk-VCYTMP4D-Dtug6Gx1.js";var lr="eoryv71",ur="eoryv72",dr={default:"eoryv75 eoryv74",profile:"eoryv76"},gr="eoryv77",fr="eoryv78",pr="eoryv79";function ne({className:r,...e}){return a.jsx("nav",{className:y(lr,r),role:"navigation",...e})}function ie({className:r,...e}){return a.jsx("div",{className:y(ur,r),"data-test":"navigation-wrapper",...e})}function Cr({className:r,navProfile:e,...t}){return a.jsx("div",{className:y(dr[e?"profile":"default"],r),"data-test":"navigation-header",...t})}function ae({className:r,...e}){return a.jsx("div",{className:y(gr,r),...e})}function se({className:r,...e}){return a.jsx("div",{className:y(fr,r),...e})}function ce({asChild:r,isActive:e,className:t,onHover:o,onPress:i,...n}){const c=r?V:"div",{hoverProps:s}=H({onHoverStart:o}),{pressProps:u}=P({onPress:i});return a.jsx(c,{...s,...u,...n,className:y(t,pr),"data-active":e||void 0})}var A=L({defaultClassName:"_1ggrk7i0",variantClassNames:{size:{12:"_1ggrk7i1",16:"_1ggrk7i2",18:"_1ggrk7i3",24:"_1ggrk7i4",32:"_1ggrk7i5",36:"_1ggrk7i6",40:"_1ggrk7i7",48:"_1ggrk7i8",52:"_1ggrk7i9",56:"_1ggrk7ia",60:"_1ggrk7ib",72:"_1ggrk7ic",88:"_1ggrk7id",96:"_1ggrk7ie",124:"_1ggrk7if",164:"_1ggrk7ig",222:"_1ggrk7ih",736:"_1ggrk7ii"},fill:{currentColor:"_1ggrk7ij",none:"_1ggrk7ik"}},defaultVariants:{},compoundVariants:[]});const I=A.variants();function hr({"aria-label":r,children:e,css:t,id:o,ref:i,...n}){const c=tr(n,I),s=J(n,I),u=M({width:"auto",...t}),f=y(A(c),u.className);return a.jsxs("svg",{"aria-labelledby":o,className:f,ref:i,role:"img",style:u.style,xmlns:"http://www.w3.org/2000/svg",...s,children:[a.jsx("title",{id:o,children:r}),e]})}const mr=p.forwardRef(function({"aria-label":e="Secondary Dark Logotype",children:t,fill:o,size:i=24,...n},c){return a.jsx(hr,{"aria-label":e,ref:c,size:i,viewBox:"0 0 106 24",...n,children:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M35.8402 6.99053V22.0576H32.1369V6.99053H35.8402ZM33.9885 1.50003C35.1878 1.50003 36.1789 2.48919 36.1789 3.68593C36.1789 4.88269 35.1878 5.87173 33.9885 5.87173C32.7893 5.87173 31.7979 4.88269 31.7979 3.68593C31.7979 2.48919 32.7893 1.50003 33.9885 1.50003Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M49.3464 22.0576V13.9125H41.393V22.0576H37.6901V2.54082H41.393V10.6342H49.3464V2.54082H53.0497V22.0576H49.3464Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M66.7109 13.054C66.3456 11.2325 64.833 9.67134 62.5643 9.67134C60.3218 9.67134 58.7046 11.2325 58.3396 13.054H66.7109ZM70.4659 16.1509H58.2878C58.6792 17.8164 60.4002 19.2996 62.5125 19.2996C64.0768 19.2996 65.3027 18.4665 65.9022 17.5299H69.9188C68.8496 20.5743 65.8767 22.5 62.5125 22.5C58.0005 22.5 54.3239 19.0648 54.3239 14.511C54.3239 9.95697 58.0268 6.548 62.5643 6.548C67.0242 6.548 70.6749 10.0612 70.6749 14.511C70.6749 15.0838 70.5966 15.5779 70.4659 16.1509Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M80.0065 9.87892C77.4507 9.87892 75.3904 11.9869 75.3904 14.511C75.3904 17.0612 77.4507 19.1691 80.0065 19.1691C82.5876 19.1691 84.6219 17.0612 84.6219 14.511C84.6219 11.9869 82.5876 9.87892 80.0065 9.87892ZM84.6219 19.6378H84.5702C83.7351 21.043 82.0662 22.5 79.5368 22.5C75.1297 22.5 71.5308 19.0911 71.5308 14.511C71.5308 9.95697 75.1297 6.548 79.5368 6.548C81.9101 6.548 83.527 7.77108 84.5702 9.1763H84.6219V6.99052H88.3252V22.0576H84.6219V19.6378Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M90.0153 6.99054H93.7185V9.07207H93.7703C94.5536 7.74569 95.6745 6.54802 97.6045 6.54802H97.9695V10.2951H97.0564C95.2831 10.2951 93.8495 11.675 93.7185 13.4185V22.0576H90.0153V6.99054Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M99.2443 9.95699V6.99054H100.6V3.58168H104.303V6.99054H106.885V9.95699H104.303V17.8681C104.303 18.3885 104.721 18.7792 105.19 18.7792H106.885V22.0576H105.19C102.478 22.0576 100.6 20.3404 100.6 17.6079V9.95699H99.2443Z",fill:E(l.color.brandBlack,l.color.brandWhite)}),a.jsx("path",{d:"M25.8641 8.73934C25.8641 10.8613 24.7147 12.953 22.4487 14.9575C22.3487 15.0458 22.224 15.089 22.0999 15.089C21.9551 15.089 21.8105 15.0298 21.7064 14.9125C21.5139 14.6958 21.5335 14.3643 21.7515 14.1716C23.7826 12.3758 24.8126 10.548 24.8126 8.73934V8.71394C24.8126 7.24592 23.8897 5.5178 22.7114 4.78055C22.4653 4.62649 22.3912 4.30248 22.5457 4.05742C22.6998 3.81178 23.0245 3.73773 23.2707 3.89129C24.7486 4.81713 25.8641 6.89067 25.8641 8.71394V8.73934ZM19.0392 13.167C18.958 13.2124 18.8699 13.2339 18.7824 13.2339C18.5983 13.2339 18.4196 13.1371 18.3231 12.9656C18.1816 12.7127 18.2718 12.3928 18.5256 12.2515C19.7428 11.5711 20.5615 10.2491 20.5646 8.95867C20.562 7.77273 19.9066 6.69347 18.8529 6.14033C18.5957 6.0052 18.4969 5.68813 18.6322 5.43155C18.7676 5.17532 19.0856 5.07653 19.3425 5.21131C20.7407 5.94503 21.6103 7.3767 21.6166 8.95115V8.9671C21.6099 10.6226 20.5754 12.3085 19.0392 13.167ZM14.8169 11.6252C13.557 11.6246 12.5359 10.6052 12.5359 9.34784C12.5359 8.0905 13.557 7.07115 14.8169 7.07045C16.0768 7.07115 17.0978 8.0905 17.0978 9.34784C17.0978 10.6052 16.0768 11.6246 14.8169 11.6252ZM11.3106 12.9656C11.2141 13.1371 11.0354 13.2339 10.8514 13.2339C10.7638 13.2339 10.6759 13.2124 10.5946 13.167C9.0584 12.3085 8.02385 10.6226 8.01725 8.9671V8.95115C8.0235 7.3767 8.89317 5.94503 10.2912 5.21131C10.5481 5.07653 10.8661 5.17532 11.0015 5.43155C11.1368 5.68813 11.038 6.0052 10.7808 6.14033C9.72712 6.69347 9.07187 7.77273 9.06912 8.95867C9.07231 10.2491 9.89106 11.5711 11.1083 12.2515C11.362 12.3928 11.4522 12.7127 11.3106 12.9656ZM7.92737 14.9125C7.82337 15.0298 7.6786 15.089 7.53392 15.089C7.4097 15.089 7.28516 15.0458 7.18502 14.9575C4.91902 12.953 3.76973 10.8613 3.76973 8.73934V8.71394C3.76973 6.89067 4.88508 4.81713 6.3632 3.89129C6.60925 3.73773 6.93395 3.81178 7.0881 4.05742C7.24269 4.30248 7.16848 4.62649 6.92243 4.78055C5.74402 5.5178 4.82116 7.24592 4.82116 8.71394V8.73934C4.82116 10.548 5.85123 12.3758 7.88227 14.1716C8.10022 14.3643 8.11998 14.6958 7.92737 14.9125ZM21.1597 1.50009C18.5287 1.50009 16.1781 2.89108 14.8169 4.92227C13.4557 2.89108 11.1051 1.50009 8.47415 1.50009C4.28157 1.50009 0.88501 4.88969 0.88501 9.07295C0.88501 11.7271 2.56953 13.6405 4.32942 15.4112L11.2096 21.9023C11.5702 22.2424 12.1636 21.9874 12.1636 21.4923V16.4349C12.1636 14.9717 13.3511 13.7853 14.8169 13.7829C16.2828 13.7853 17.4703 14.9717 17.4703 16.4349V21.4923C17.4703 21.9874 18.0635 22.2424 18.4241 21.9023L25.3044 15.4112C27.0642 13.6405 28.7487 11.7271 28.7487 9.07295C28.7487 4.88969 25.3523 1.50009 21.1597 1.50009Z",fill:l.color.brandRed})]})})}),S=p.createContext(null);S.displayName="ErrorContainer";function O(){const r=p.useContext(S);if(!r)throw new Error("error-* component must be rendered as child of Error");return r}const Er=({children:r})=>{const e=W(),t=B(),o=e.state==="submitting",i=e.state==="loading",n=e.state==="loading"&&e.formMethod!=null&&t.formMethod!="GET"&&e.data==null,c=p.useCallback(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(s=>{s.active?.postMessage("purge")})},[]);return p.useEffect(()=>{n&&(localStorage.clear(),sessionStorage.clear())},[n]),a.jsxs(rr,{isDismissable:!0,children:[r,s=>a.jsx(er,{children:a.jsxs(b,{gap:"$16",children:[a.jsx(or,{children:"Clear Cookies"}),"Are you sure? Clearing cookies will delete all website data and preferences.",a.jsxs(b,{align:"center",gap:"$16",justify:"center",children:[a.jsx(e.Form,{action:"/clear-cookie",method:"post",children:a.jsx(R,{color:"red",isDisabled:o||i,kind:"primary",onPress:c,size:{mobile:"small",medium:"large"},type:"submit",children:"Clear cookies"})}),a.jsx(R,{color:"default",isDisabled:o||i,kind:"secondary",onPress:()=>s(),size:{mobile:"small",medium:"large"},children:"Cancel"})]})]})})]})},Tr=({kind:r,color:e})=>a.jsx(R,{color:e,"data-test":"route-error-reload",kind:r,onPress:()=>window.location.reload(),size:"large",children:"Reload"}),yr=({color:r,kind:e,path:t,text:o})=>a.jsx(R,{color:r,"data-test":"route-error-action",href:t,kind:e,size:"large",children:o}),wr=({color:r,kind:e})=>a.jsx(Er,{children:a.jsx(R,{color:r,"data-test":"route-error-clear",kind:e,size:"large",children:"Clear cookies"})}),xr=({children:r})=>a.jsx(x,{"data-test":"route-error-cta",flexDirection:"column",gap:"$16",children:r}),Rr={action:yr,reload:Tr,clear:wr};function kr(r){const{cta:e}=r,t=Rr[e.block];return t?a.jsx(t,{...e.props}):(console.warn(`CTA block ${e.block} does not have an associated component`),null)}function vr({icon:r}){switch(r){case"error-outline":return X;case"radio":return Q}}const Sr=()=>{const{errorSource:{title:r,description:e,cta:t,icon:o}}=O();return a.jsx(Y,{cta:a.jsx(xr,{children:t.map((i,n)=>a.jsx(kr,{cta:i},`${n}-${i.block}`))}),description:e,icon:vr({icon:o}),title:r})},Nr=({children:r})=>a.jsx(x,{backgroundColor:E(l.color.gray100,l.color.brandBlack),"data-test":"page-error-container",flexGrow:"1",justifyContent:"center",children:r}),br=({children:r})=>a.jsx(x,{asChild:!0,"data-test":"page-error-item",flexDirection:"column",gridArea:"content",maxWidth:"42rem",overflowX:"hidden",overflowY:"auto",children:a.jsx("main",{children:a.jsx(x,{flexGrow:1,width:"100%",children:a.jsx(x,{height:"fit-content",minHeight:"100%",width:"inherit",children:r})})})}),Ir=({children:r})=>{const{fromRoot:e}=O();return e?a.jsxs(nr,{gridTemplateAreas:'"nav" "content"',gridTemplateColumns:"1fr",gridTemplateRows:"4.8rem auto",children:[a.jsx(D,{"data-test":"grid area nav",gridArea:"nav",children:a.jsx(Cr,{style:{display:"flex"},children:a.jsx(mr,{"aria-label":"iHeart Header Logotype",media:"mobile",size:24})})}),r]}):a.jsx(a.Fragment,{children:r})},g=({errorConfig:r,children:e})=>(p.useEffect(()=>{q(r.errorSource?.error?.data)||(console.group("AppError"),console.error(r.errorSource?.error?.data),console.groupEnd())},[r.errorSource?.error?.data]),a.jsx(S.Provider,{value:r,children:e}));g.displayName="AppErrorProvider";g.AppErrorContainer=Nr;g.AppErrorLayout=Ir;g.AppError=Sr;g.AppErrorItem=br;const jr=r=>r instanceof Error,Ar=({error:r,customAttributes:e})=>{if(globalThis?.window===void 0)return;if(globalThis?.window?.newrelic===void 0){console.log("New Relic Browser Agent Not Initialized");return}const t=r.errorSource.payload,o=e??{};globalThis?.window.newrelic.noticeError(t,o)};var T=(r=>(r.API_ERROR="apiError",r.APP_ERROR="appError",r.ROUTE_ERROR="routeError",r.UNKNOWN_ERROR="unknownError",r))(T||{});const Or=({error:r,analytics:e})=>{if(globalThis?.window===void 0)return;const t=r.errorSource.error?.status,o=r.errorSource.error?.title,i=r.errorType;(t>=400||i===T.APP_ERROR||i===T.UNKNOWN_ERROR)&&e&&e.track({type:ar.enum.PageView,data:{pageName:`${t??ir(o??"Something went wrong")}`,window:{location:{href:window.location.href}}}})},_r=()=>[Ar,Or],j=(r,e,t,o,i)=>{const n=t.routes({root:o,pathname:e,data:i});return n[r]?{title:`${n[r].HIDE_STATUS?"":r} ${n[r].TITLE}`,description:n[r].DESCRIPTION,cta:n[r].CTA,icon:n[r].ICON}:N(e,t,o)},Hr=(r,e,t)=>N(r,e,t),N=(r,e,t)=>{const o=e.unknown({root:t,pathname:r});return{title:o.TITLE,description:o.DESCRIPTION,cta:o.CTA,icon:o.ICON}},v=(r,e,t)=>{r.errorType=t,r.errorSource.title=e.title,r.errorSource.description=e.description,r.errorSource.cta=e.cta,r.errorSource.icon=e.icon},Pr=({analytics:r,customAttributes:e,error:t,pathname:o,emit:i=!0,root:n,templates:c})=>{const s={emit:()=>{},errorSource:{cta:[],error:t,icon:"error-outline",title:"",description:"",payload:t,hideStatus:!1},errorType:null,pathname:o};return Z(t)?(s.errorSource.payload=t.data instanceof Object?new Error(JSON.stringify(t.data)):new Error(t.data),v(s,c?j(t.status,o,c,n,s.errorSource.error.data):{},T.ROUTE_ERROR)):t instanceof G?v(s,c?j(t?.response?.status??418,o,c,n,s.errorSource.error.data):{},T.API_ERROR):jr(t)?(v(s,c?Hr(o,c,n):{},T.APP_ERROR),console.error(typeof t.message=="string"?t.message:JSON.stringify(t.message))):(v(s,c?N(o,c,n):{},T.UNKNOWN_ERROR),console.error(t)),i&&(s.emit=()=>{for(const u of _r())u({error:s,analytics:r,customAttributes:e})}),{emit:s.emit,errorSource:s.errorSource,errorType:s.errorType,fromRoot:n}};function Vr({analytics:r,customAttributes:e,root:t,error:o,pathname:i,templates:n}){const c=p.useRef(null),s=p.useRef(null),u=p.useMemo(()=>Pr({analytics:r,customAttributes:e,root:t,error:o,pathname:i,templates:n}),[e,r,i,o,t,n]);return p.useEffect(()=>{(c.current!==i||JSON.stringify(o)!==JSON.stringify(s.current))&&(s.current=o,c.current=i,u.emit())},[u,o,i]),u}const Lr=({analytics:r,customAttributes:e,children:t,document:o,errorOverride:i,templates:n})=>{const{pathname:c,search:s}=U(),u=F();let f=i||u;const d=new URLSearchParams(s).get("error");d&&/^\d{3}$/.test(d)?f={status:+d,statusText:"",internal:!1,data:{}}:d&&d.length>4?f=new Error(d):d&&(f=null);const m=Vr({analytics:r,customAttributes:e,error:f,pathname:c,root:!!o,templates:n});return o?a.jsx(o,{theme:$.light,children:a.jsx(a.Fragment,{children:a.jsx(g,{errorConfig:m,children:t})})}):a.jsx(g,{errorConfig:m,children:t})},Mr=({appVersion:r,requestInfo:e,SHORT_COMMIT:t,user:o,userType:i})=>({accountType:o?.accountType??"",appVersion:r??"",isAnonymous:o?.isAnonymous??"",isMobile:e?.isMobile??"",profileId:o?.profileId?String(o.profileId):"",marketName:o?.marketName??"",shortCommit:t??"",theme:e?.hints?.theme??"",userType:i??""}),Dr={block:"action",props:{color:"red",kind:"primary",path:"/",text:"Return home"}},C={block:"reload",props:{color:"red",kind:"primary",path:"",text:""}},w={block:"action",props:{color:"default",kind:"secondary",path:"/",text:"Return home"}},$r={block:"action",props:{color:"default",kind:"secondary",path:"/login",text:"Log in"}},h={block:"clear",props:{color:"default",kind:"tertiary",path:"",text:""}},Wr=Object.freeze(new Set([100,101,102])),Br=r=>K(r)&&"errorCode"in r?Wr.has(Number(r.errorCode)):!1,Zr=({data:r})=>{const e=Br(r),i=`${r?.error&&!cr(r.error)?`"${r.error}" - `:""}${e?"There was an error with authentication. Please contact the administrator of this application. More information is available in the console.":"If this error occurs again, please clear your cookies"}`;return{TITLE:e?"Could not complete authentication":"There was an error",DESCRIPTION:i,ICON:"error-outline",CTA:[C,h]}},Ur=({pathname:r,root:e})=>{const t=r.startsWith("/favorites");return{TITLE:t?"Favorites Radio is just a day away":"Page Not Found",DESCRIPTION:t?"Continue listening and we'll have a great mix of music for you tomorrow":"Sorry, we can't find the page you're looking for.",ICON:t?"radio":"error-outline",CTA:(({root:o,pathname:i})=>{const n=[Dr];if(o)return[];switch(i){case"/":return[];default:return[...n]}})({root:e,pathname:r}),...t?{HIDE_STATUS:!0}:{}}},Fr=({root:r,pathname:e,data:t})=>({400:Zr({data:t}),401:{TITLE:"Your Session Timed Out",DESCRIPTION:"Please log in or reload the page to continue listening.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,$r,h];return o?[...n]:[...n]})({root:r,pathname:e})},403:{TITLE:"Your Session Timed Out",DESCRIPTION:"Please reload the page to continue listening.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,h];return o?[...n]:[...n]})({root:r,pathname:e})},404:Ur({pathname:e,root:r}),408:{TITLE:"Request Timeout",DESCRIPTION:"Sorry, this is taking longer than expected. Try reloading the page or check back later.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,w,h];if(o)return[n[0],n[2]];switch(i){case"/":return[n[0],n[2]];default:return[...n]}})({root:r,pathname:e})},500:{TITLE:"Internal Server Error",DESCRIPTION:"Sorry, we couldn't complete your request. Please check back later.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,w,h];if(o)return[n[0],n[2]];switch(i){case"/":return[n[0],n[2]];default:return[...n]}})({root:r,pathname:e})},503:{TITLE:"Service Not Available",DESCRIPTION:"Sorry, we couldn't complete your request. Try reloading the page or check back later.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,w,h];if(o)return[n[0],n[2]];switch(i){case"/":return[n[0],n[2]];default:return[...n]}})({root:r,pathname:e})},504:{TITLE:"Request Timeout",DESCRIPTION:"Sorry, this is taking longer than expected. Try reloading the page or check back later.",ICON:"error-outline",CTA:(({root:o,pathname:i})=>{const n=[C,w,h];if(o)return[n[0],n[2]];switch(i){case"/":return[n[0],n[2]];default:return[...n]}})({root:r,pathname:e})}}),zr=({root:r,pathname:e})=>({TITLE:"Something Went Wrong",DESCRIPTION:"Try reloading the page or check back later.",ICON:"error-outline",CTA:(({root:t,pathname:o})=>{const i=[C,w,h];if(t)return[i[0],i[2]];switch(o){case"/":return[i[0],i[2]];default:return[...i]}})({root:r,pathname:e})}),le=r=>{const e=_.c(6),{document:t,errorOverride:o}=r,{appVersion:i,SHORT_COMMIT:n,requestInfo:c,user:s,userType:u}=z("root")??{},f=Mr({appVersion:i,requestInfo:c,SHORT_COMMIT:n,user:s,userType:u});let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={routes:Fr,unknown:zr},e[0]=d):d=e[0];let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx(g.AppErrorContainer,{children:a.jsx(g.AppErrorLayout,{children:a.jsx(g.AppErrorItem,{children:a.jsx(g.AppError,{})})})}),e[1]=m):m=e[1];let k;return e[2]!==t||e[3]!==f||e[4]!==o?(k=a.jsx(Lr,{analytics:sr,customAttributes:f,document:t,errorOverride:o,templates:d,children:m}),e[2]=t,e[3]=f,e[4]=o,e[5]=k):k=e[5],k};export{le as A,mr as L,ae as N,Cr as a,ce as b,se as c,ie as d,ne as e};
//# sourceMappingURL=app-error-boundary-DrM5y2jm.js.map

import{o as l,s as n,p as g,f,l as m}from"./http-error-DJhpcL-Y.js";import{r as h,s as w,g as d,t as k}from"./request-info-Bv3SWXDS.js";var T="...";function N(e,a,t){return typeof e=="string"?u(e,a,t):o=>u(o,e,a)}function u(e,a,{omission:t=T,separator:o}={}){if(e.length<=a)return e;if(a<=0)return"";if(a<t.length)return t.slice(0,a);let i=a-t.length;if(typeof o=="string"){let p=e.lastIndexOf(o,i);p!==-1&&(i=p)}else if(o!==void 0){let p=o.flags.includes("g")?o:new RegExp(o.source,`${o.flags}g`),s;for(let{index:c}of e.matchAll(p)){if(c>i)break;s=c}s!==void 0&&(i=s)}return`${e.slice(0,i)}${t}`}function y(e){return typeof e!="string"?e:N(e.trim().replaceAll('"',"'"),k,{separator:" "})}const r=(e,a)=>`meta-${e}-${a}`,v=l({title:n().optional(),description:g(y,n()).optional(),type:n().optional(),image:n().optional()}),A=e=>{const a=v.safeParse(e);return a.success?Object.entries(a.data).map(([t,o])=>o?{content:o,property:`og:${t}`,key:r("property",`og:${t}`),tagName:"meta"}:void 0).filter(t=>m(t)):[]},P=l({title:n().optional(),description:g(y,n()).optional(),type:n().optional(),card:n().optional(),image:n().optional()}),b=e=>{const a=P.safeParse(e);return a.success?Object.entries(a.data).map(([o,i])=>i?{content:i,name:`twitter:${o}`,key:r("name",`twitter:${o}`),tagName:"meta"}:void 0).filter(m):[]},E=l({title:n().optional(),description:g(y,n()).optional(),image:n().optional()}),S=e=>{const a=E.safeParse(e);if(a.success){const{title:t,description:o,image:i}=a.data;return[t?{content:t,itemProp:"name",key:r("itemprop","name"),tagName:"meta"}:void 0,o?{content:o,itemProp:"description",key:r("itemprop","description"),tagName:"meta"}:void 0,i?{content:i,itemProp:"image",key:r("itemprop","image"),tagName:"meta"}:void 0].filter(m)}return[]},_=l({playerUrl:n().optional(),secureUrl:n().optional(),width:n().optional(),height:n().optional()}),U=e=>{const a=_.safeParse(e);if(a.success){const{playerUrl:t,secureUrl:o,width:i,height:p}=a.data;return[i?{content:i,name:"twitter:player:width",key:r("name","twitter:player:width"),tagName:"meta"}:void 0,p?{content:p,name:"twitter:player:height",key:r("name","twitter:player:height"),tagName:"meta"}:void 0,t?{content:t,name:"twitter:player",key:r("name","twitter:player"),tagName:"meta"}:void 0,t?{content:t,property:"og:audio",key:r("property","og:audio"),tagName:"meta"}:void 0,{content:h,property:"og:audio:type",key:r("property","og:audio:type"),tagName:"meta"},{content:w,property:"og:video:type",key:r("property","og:video:type"),tagName:"meta"},o?{content:o,property:"og:video:url",key:r("property","og:video:url"),tagName:"meta"}:void 0,o?{content:o,property:"og:video:secure_url",key:r("property","og:video:secrure_url"),tagName:"meta"}:void 0].filter(m)}return[]},M=l({url:n().optional()}),$=e=>{const a=M.safeParse(e);if(a.success){const{url:t}=a.data;return t?[{content:t,name:"twitter:app:url:iphone",key:r("name","twitter:app:url:iphone"),tagName:"meta"},{content:t,name:"twitter:app:url:ipad",key:r("name","twitter:app:url:ipad"),tagName:"meta"},{content:t,name:"twitter:app:url:googleplay",key:r("name","twitter:app:url:googleplay"),tagName:"meta"},{content:t,property:"al:ios:url",key:r("property","al:ios:url"),tagName:"meta"},{content:t,property:"al:android:url",key:r("property","al:android:url"),tagName:"meta"}]:[]}return[]},D=l({title:n().optional(),description:g(y,n()).optional(),keywords:n().optional(),image:n().optional(),canonicalUrl:n().url().optional(),noFollow:f().optional()}),I=e=>{const a=D.safeParse(e);if(a.success){const{title:t,description:o,keywords:i,image:p,canonicalUrl:s,noFollow:c}=a.data;return[t?{title:t,key:r("name","title")}:void 0,o?{content:o,name:"description",key:r("name","description"),tagName:"meta"}:void 0,p?{content:p,name:"thumbnail",key:r("name","thumbnail"),tagName:"meta"}:void 0,p?{href:p,rel:d.ImageSource,key:r("name","imageSource"),tagName:"link"}:void 0,i?{content:i,name:"keywords",key:r("name","keywords"),tagName:"meta"}:void 0,s?{href:s,rel:d.Canonical,key:r("rel","canonical"),tagName:"link"}:void 0,c?{content:"noindex, nofollow",name:"robots",key:r("name","robots"),tagName:"meta"}:void 0].filter(m)}return[]},O={openGraph:e=>A(e),twitter:e=>b(e),itemProp:e=>S(e),media:e=>U(e),app:e=>$(e),base:e=>I(e)},L=e=>{const{base:a,openGraph:t,twitter:o,itemProp:i}=O;return[...a(e),...t(e),...o(e),...i(e)]};export{r as g,O as m,L as s};
//# sourceMappingURL=utilities-N58HNQ8F.js.map
